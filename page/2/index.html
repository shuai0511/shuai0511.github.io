<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="study">
<meta property="og:type" content="website">
<meta property="og:title" content="Hengshuai Shang">
<meta property="og:url" content="http://example.com/page/2/index.html">
<meta property="og:site_name" content="Hengshuai Shang">
<meta property="og:description" content="study">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Hengshuai Shang">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/page/2/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>
<link rel="stylesheet" href="//cdn.jsdelivr.net/gh/theme-next/theme-next-needmoreshare2@1/needsharebutton.min.css"><style>
#needsharebutton-postbottom {
  cursor: pointer;
  height: 26px;
  margin-top: 10px;
  position: relative;
}
#needsharebutton-postbottom .btn {
  border: 1px solid $btn-default-border-color;
  border-radius: 3px;
  display: initial;
  padding: 1px 4px;
}
</style>
  <title>Hengshuai Shang</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Hengshuai Shang</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">hengshuai shang</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/posts/5960ab7/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Hengshuai Shang">
      <meta itemprop="description" content="study">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hengshuai Shang">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/posts/5960ab7/" class="post-title-link" itemprop="url">X射线衍射原理</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2023-09-15 21:55:57 / 修改时间：22:39:44" itemprop="dateCreated datePublished" datetime="2023-09-15T21:55:57+08:00">2023-09-15</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/XRD/" itemprop="url" rel="index"><span itemprop="name">XRD</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/posts/5960ab7/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/posts/5960ab7/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="X射线衍射原理"><a href="#X射线衍射原理" class="headerlink" title="X射线衍射原理"></a>X射线衍射原理</h1><h2 id="X射线的发现"><a href="#X射线的发现" class="headerlink" title="X射线的发现"></a>X射线的发现</h2><h3 id="伦琴"><a href="#伦琴" class="headerlink" title="伦琴"></a>伦琴</h3><p>第一次发现了X射线。<br>X射线的产生机理参见博客<a target="_blank" rel="noopener" href="https://shuai0511.github.io/posts/fe1e810/">基础表征-XRD中 X射线产生机理 | Hengshuai Shang (shuai0511.github.io)</a>。</p>
<h3 id="劳厄"><a href="#劳厄" class="headerlink" title="劳厄"></a>劳厄</h3><p>等先生做实验演示X射线通过晶体所产生的衍射花样，证实了X射线具有波动性，同时证明了晶体具有周期性，于1914年获得诺贝尔奖。</p>
<h3 id="布拉格"><a href="#布拉格" class="headerlink" title="布拉格"></a>布拉格</h3><p>劳厄的重大发现传到英国之后，Bragg父子重点将X射线用于研究晶体中原子排列，开辟了晶体结构分析领域，于1915年获得诺贝尔奖。</p>
<h2 id="X射线谱"><a href="#X射线谱" class="headerlink" title="X射线谱"></a>X射线谱</h2><p>既有连续X射线，也有连续X射线。<br>关于连续谱的解释：X-射线管中高速运动的电子与阳极靶碰撞突然减速，产生极大的负加速度，电子周围的电磁场将发生急剧变化，因此向外辐射出电磁波， 即X-射线。由于大量电子轰击阳极靶的时间和条件不完全相同，辐射出的电磁波具有各种不同的波长，因此形成了连续谱(大多数高速电子与阳极靶碰撞时，其部分能量ε’要消耗在电 子对阳极靶的各种激发作用上，因此转化为X-射线光量子的能 量要小于高速电子的全部能量，ε&#x3D; eV-ε’，即大多数辐射的波长 均大于短波限。另外，电子可能要经过多次碰撞才能逐渐消耗 自己的全部能量，电子每经历一次碰撞产生一个光子，多次碰 撞产生多次因此辐射，由于多次辐射中产生的各个光量子能量 各不相同，因此出现了连续X射线谱。)。<br>短波限的出现是根据电压来决定的，工作电压决定了高速电子的动能，而高速电子的动能又决定了打出X射线能量的最大值。<br>X射线的强度是指单位时间内通过与X射线·传播方向垂直的单位面积上的所有光量子的能量之和，所以X射线的强度也是光量子能量和数量决定的。（<em>经验表明：连续X射线谱中最大强度Imax对应的λmax是短波限的1.5倍。</em>）</p>
<h2 id="特征X射线"><a href="#特征X射线" class="headerlink" title="特征X射线"></a>特征X射线</h2><p>当激发电压小于截止电压时，只会出现连续X射线谱线，而不会出现特征X射线，且特征X射线的频率只与原子结构有关，和管电压等其他因素无关。详细见博客(<a target="_blank" rel="noopener" href="https://shuai0511.github.io/posts/fe1e810/">基础表征-XRD中 X射线产生机理 | Hengshuai Shang (shuai0511.github.io)</a>).</p>
<h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>当出现特征谱线时，连续谱线一定存在（即连续谱线一直存在），应用时：在X射线多晶体衍射工作 中主要利用K系辐射。X射线谱的连续谱部分只能增加衍射花样的背景。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/posts/57f4a315/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Hengshuai Shang">
      <meta itemprop="description" content="study">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hengshuai Shang">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/posts/57f4a315/" class="post-title-link" itemprop="url">vaspkit教程翻译-（热力学校正）</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2023-09-10 20:53:57 / 修改时间：21:06:12" itemprop="dateCreated datePublished" datetime="2023-09-10T20:53:57+08:00">2023-09-10</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/vaspkit/" itemprop="url" rel="index"><span itemprop="name">vaspkit</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/vaspkit/Gibbs-energy/" itemprop="url" rel="index"><span itemprop="name">Gibbs energy</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/posts/57f4a315/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/posts/57f4a315/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>热力学校正<br>计算催化剂中的热力学能变化量是一件相对来说比较重要的事情。但是 <code>vasp</code> 没有可以直接计算分子自由能的程序，因此，自由能矫正在一些出版物中不一致、不准确。（<strong>注意：计算化学软件包 <code>Gaussian</code> 有一个完整的自由能计算模块。</strong>）</p>
<h2 id="气态分子自由能矫正"><a href="#气态分子自由能矫正" class="headerlink" title="气态分子自由能矫正"></a>气态分子自由能矫正</h2><p>在 <code>vaspkit</code> 中用于计算气体分子热力学数据的方程和 &#96;&#96;<br><code>Gaussian</code> 中的等同（<a target="_blank" rel="noopener" href="https://gaussian.com/thermo/">Thermochemistry in Gaussian | Gaussian.com</a>）。配分函数可以用于计算每一个部分对于热力学 <code>S</code> 熵的贡献：<br><img src="https://raw.githubusercontent.com/shuai0511/blog-img/main/4-1.png"><br>当给定了摩尔值n&#x3D;N&#x2F;NA，基于理想气体近似，NAkB&#x3D;R（NA是阿伏伽德罗常数，而kB是玻尔兹曼常数，R为理想气体常数）。我们可以将 <code>S</code> 写为：<br><img src="https://raw.githubusercontent.com/shuai0511/blog-img/main/4-2.png"><br>热力学内能 <em>U</em> 也可以通过配分函数得到：<br><img src="https://raw.githubusercontent.com/shuai0511/blog-img/main/4-3.png"><br>关于平动、电子、转动、振动对热力学的贡献可以见方程列表(<a target="_blank" rel="noopener" href="https://gaussian.com/thermo/">Thermochemistry in Gaussian | Gaussian.com</a>).然后可以计算特定温度和压力下的熵 <code>S</code> 和内能 &#96;U<br>的校正值。<br><img src="https://raw.githubusercontent.com/shuai0511/blog-img/main/4-4.png"></p>
<p>对于线型分子，振动自由度为 <code>3N-5</code> (N为分子中的原子数)，<code>vaspkit</code> 将会忽略最小的五个频率，对于非线性分子，振动自由度为 <code>3N-6</code> (N为分子中的原子数)，<code>vaspkit</code> 将会忽略最小的六个频率。<br><code>vaspkit</code> 也包括从频率计算的 <code>OUTCAR</code> 中的用于热力学能矫正中的零点能 (ZPE)。<br><img src="https://raw.githubusercontent.com/shuai0511/blog-img/main/4-5.png"><br>吉布斯自由能(<em>G</em>)和焓(<em>H</em>)基于理想气体近似包括 <code>∆PV = ∆NRT</code> .<br><img src="https://raw.githubusercontent.com/shuai0511/blog-img/main/4-6.png"><br>吉布斯自由能(<em>G</em>)可以借助总的熵(<em>S</em>)导出：<br><img src="https://raw.githubusercontent.com/shuai0511/blog-img/main/4-7.png"><br>最后，<code>vaspkit</code> 将会输出</p>
<ol>
<li>Zero-point energy εZPE;</li>
<li>Thermal correction to <em>U</em>(T), </li>
<li>Thermal correction to H(T), </li>
<li>Thermal correction to G(T),</li>
</ol>
<h2 id="例子：O2分子的热力学校正"><a href="#例子：O2分子的热力学校正" class="headerlink" title="例子：O2分子的热力学校正"></a>例子：O2分子的热力学校正</h2><ul>
<li>1、进行频率计算，计算完成之后，检查频率:<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1 f  =   46.979964 THz   295.183821 2PiTHz 1567.082879 cm-1   194.293584 meV</span><br><span class="line">2 f  =    1.952595 THz    12.268518 2PiTHz   65.131565 cm-1     8.075288 meV</span><br><span class="line">3 f  =    1.120777 THz     7.042052 2PiTHz   37.385108 cm-1     4.635164 meV</span><br><span class="line">4 f/i=    0.006984 THz     0.043884 2PiTHz    0.232971 cm-1     0.028885 meV</span><br><span class="line">5 f/i=    1.046106 THz     6.572876 2PiTHz   34.894327 cm-1     4.326347 meV</span><br><span class="line">6 f/i=    1.294104 THz     8.131095 2PiTHz   43.166663 cm-1     5.351986 meV</span><br></pre></td></tr></table></figure>
因为 <code>O2</code> 线型分子，振动自由度为 <code>3N-5</code> (N为分子中的原子数)，<code>vaspkit</code> 将会忽略最小的五个频率，<br>在相同文件下里，运行 <code>vaspkit</code> 的 <code>502</code> 功能，输入温度(K)，压力(Atm)和自旋多重度。<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">502</span><br><span class="line"> +-------------------------- Warm Tips --------------------------+</span><br><span class="line">   See An Example in vaspkit/examples/thermo_correction/ethanol.</span><br><span class="line">  This Feature Was Contributed by Nan XU, Jincheng Liu and Sobereva.</span><br><span class="line"> Included Vibrations, Translation, Rotation &amp; Electron contributions.</span><br><span class="line"> GAS molecules should not be with any fix.</span><br><span class="line">  --&gt;&gt; (01) Reading Structural Parameters from CONTCAR File...</span><br><span class="line">  --&gt;&gt; (02) Analyzing Molecular Symmetry Information...</span><br><span class="line"> Molecular Symmetry is: D(inf)h</span><br><span class="line"> Linear molecule found!</span><br><span class="line"> +---------------------------------------------------------------+</span><br><span class="line"> Please input Temperature(K)!</span><br><span class="line">298.15</span><br><span class="line"> Please input Pressure(Atm)!</span><br><span class="line">1</span><br><span class="line"> Please input Spin multiplicity!--(Number of Unpaired electron + 1)</span><br><span class="line">3</span><br><span class="line"> ------------&gt;&gt;</span><br><span class="line">  --&gt;&gt; (03) Extracting frequencies from OUTCAR...</span><br><span class="line">  --&gt;&gt; (04) Reading OUTCAR File...</span><br><span class="line">  --&gt;&gt; (05) Calculating Thermal Corrections...</span><br><span class="line"> U(T) = ZPE + Delta_U(0-&gt;T)</span><br><span class="line"> H(T) = U(T) + PV = ZPE + Delta_U(0-&gt;T) + PV</span><br><span class="line"> G(T) = H(T) - TS = ZPE + Delta_U(0-&gt;T) + PV - TS</span><br><span class="line"></span><br><span class="line"> Zero-point energy E_ZPE   :       2.240 kcal/mol    0.097144 eV</span><br><span class="line"> Thermal correction to U(T):       3.724 kcal/mol    0.161475 eV</span><br><span class="line"> Thermal correction to H(T):       4.316 kcal/mol    0.187167 eV</span><br><span class="line"> Thermal correction to G(T):     -10.302 kcal/mol   -0.446723 eV</span><br><span class="line"> Entropy S                 :     205.141 J/(mol*K)   0.002126 eV</span><br></pre></td></tr></table></figure>
所以，零点振动能(ZPE)为 <code>0.097144 eV</code>，对于 <em>U</em>(T), <em>H</em>(T), 和 <em>G</em>(T) 的热力学校正值分别为 <code>0.161475, 0.187167 和 -0.446723 eV</code> ，熵(<em>S</em>)的校正值为：<br><img src="https://raw.githubusercontent.com/shuai0511/blog-img/main/4-8.png"><br>为了得到 <code>O2</code>的吉布斯自由能，在电子能上添加自由能校正值：<code>G(O2) = -9.854 + -0.447 = -10.301 eV</code></li>
</ul>
<h2 id="吸附分子的自由能校正"><a href="#吸附分子的自由能校正" class="headerlink" title="吸附分子的自由能校正"></a>吸附分子的自由能校正</h2><p>不像气体分子那样，被吸附的分子和吸附表面之间形成化学键，它限制了吸附分子的平动和转动自由度，因此平动和转动对熵(<em>S</em>)和焓(<em>H</em>)的贡献明显减少(这被称为被限制的平动&#x2F;被限制的转动模式)。但是这并不意味着没有平动和转动的贡献。<br>一种常见的方式将转动和平动的贡献看作是属性为振动的贡献，那是因为表面吸附分子有3N 个振动(不包括虚频)都被用于计算热力学能的校正。<br>那些小的振动频率对于熵(<em>S</em>)有很大的贡献。一个非常小的振动频率将会导致熵(<em>S</em>)和自由能(<em>G</em>)校正的异常。因此建议当进行表面吸附分子的自由能校正时，那些小于<br><code>50 cm-1</code>的振动频率将按照<code>50 cm-1</code> 来计算，<code>vaspkit</code> 将会忽略那些电子移动因为他们的贡献很小。<br>并且 <code>PV</code> 项一般也会删除，最后 <code>vaspkit</code> 将会输出：</p>
<ol>
<li>Zero-point energy εZPE</li>
<li>Thermal correction to <em>U</em>(T) </li>
<li>Thermal correction to G(T)</li>
</ol>
<h2 id="例子：O吸附在Au-111-的热力学能校正"><a href="#例子：O吸附在Au-111-的热力学能校正" class="headerlink" title="例子：O吸附在Au(111)的热力学能校正"></a>例子：O吸附在Au(111)的热力学能校正</h2><ul>
<li>1、固定表面金属原子，对吸附分子进行频率计算，检查频率是否存在虚频：<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ grep cm OUTCAR</span><br><span class="line">   1 f  =   10.904836 THz    68.517103 2PiTHz  363.746154 cm-1    45.098792 meV</span><br><span class="line">   2 f  =   10.827330 THz    68.030119 2PiTHz  361.160834 cm-1    44.778253 meV</span><br><span class="line">   3 f  =   10.751668 THz    67.554721 2PiTHz  358.637024 cm-1    44.465340 meV</span><br></pre></td></tr></table></figure></li>
<li>2、在同一文件夹下，运行 <code>vaspkit</code> 的 <code>501</code> 功能，输入温度(K)：<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">501</span><br><span class="line"> +-------------------------- Warm Tips --------------------------+</span><br><span class="line"> This Feature Was Contributed by Nan XU, Qiang LI and Jincheng LIU.</span><br><span class="line">     See An Example in vaspkit/examples/thermo_correction/ORR.</span><br><span class="line"> Only vibrations! No Translation &amp; Rotation &amp; Electron contributions.</span><br><span class="line"> +---------------------------------------------------------------+</span><br><span class="line"></span><br><span class="line"> Please Enter The Temperature (K):</span><br><span class="line"></span><br><span class="line"> ------------&gt;&gt;</span><br><span class="line">298.15</span><br><span class="line">  --&gt;&gt; (01) Reading OUTCAR File...</span><br><span class="line"> +-------------------------- Summary ----------------------------+</span><br><span class="line"> Neglect PV contribution to translation for adsorbed molecules.</span><br><span class="line"> To avoid abnormal entropy contribution,</span><br><span class="line"> frequencies less than 50 cm-1 are set to 50 cm-1.</span><br><span class="line"> U(T) = H(T) = ZPE + Delat_U(0-&gt;T)</span><br><span class="line"> G(T) = H(T) - TS = ZPE + Delat_U(0-&gt;T) - TS</span><br><span class="line"></span><br><span class="line"> Temperature (K): 298.1</span><br><span class="line"> Zero-point energy E_ZPE   :       1.549 kcal/mol    0.067171 eV</span><br><span class="line"> Thermal correction to U(T):       2.206 kcal/mol    0.095670 eV</span><br><span class="line"> Thermal correction to H(T):       2.206 kcal/mol    0.095670 eV</span><br><span class="line"> Thermal correction to G(T):       1.207 kcal/mol    0.052342 eV</span><br><span class="line"> Entropy S                 :      14.021 J/(mol*K)   0.000145 eV</span><br></pre></td></tr></table></figure>
所以，零点能(ZPE)为 <code>0.067171 eV</code>，对于 <em>U</em>(T), <em>H</em>(T), 和 <em>G</em>(T)的热力学校正分别为 <code>0.095670、0.187167 和 -0.446723 eV</code></li>
</ul>
<p>So, ZPE is 0.067171 eV. Thermal correction to <em>U</em>(T), <em>H</em>(T), and <em>G</em>(T) are 0.095670, 0.187167, and -0.446723 eV, respectively.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/posts/508631a2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Hengshuai Shang">
      <meta itemprop="description" content="study">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hengshuai Shang">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/posts/508631a2/" class="post-title-link" itemprop="url">vaspkit翻译-（态密度）</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2023-09-10 19:12:57 / 修改时间：19:04:47" itemprop="dateCreated datePublished" datetime="2023-09-10T19:12:57+08:00">2023-09-10</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/DOS/" itemprop="url" rel="index"><span itemprop="name">DOS</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/DOS/%E6%80%81%E5%AF%86%E5%BA%A6/" itemprop="url" rel="index"><span itemprop="name">态密度</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/posts/508631a2/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/posts/508631a2/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><code>vaspkit</code> 是一个非常强大的态密度结果后处理软件。在 <code>INCAR</code> 文件中设置 <code>LORBIT =10 或者 11</code> ，<code>vasp</code> 将会自动输出每个原子的态密度（DOS）和角量子数（l）投影态密度或者磁量子数（m）投影态密度到<code>DOSCAR</code> 和 <code>vasprun.xml</code> 文件，我们可以使用 &#96;vaspkit<br> 根据用户输入来提取这些信息。<br><strong>优点：</strong></p>
<ul>
<li>1、不用下载 <code>DOSCAR</code> 和 <code>vasprun.xml</code> 文件，可以直接在服务器上提取有用的态密度信息。</li>
<li>2、可以方便的选择提取 <code>PDOS(投影态密度)</code> ，例如可以用你想要的方式通过元素种类，原子和轨道来选择并进行加和处理。</li>
<li>3、可以自动将费米能级校准至 <code>0eV</code> ，它可以从 <code>OUTCAR</code> 文件中读取费米能级并且将态密度数据移动费米能级数量。如果你不想做这个平移，仅仅需要在 &#96;&#96;<br><code>~/.vaspkit</code> 中将其关闭即可：<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SET_FERMI_ENERGY_ZERO    .FALSE.             # .TRUE. or .FALSE.;</span><br></pre></td></tr></table></figure></li>
<li>4、输出文件不用修改就可以直接被 <code>origin</code> 读取。</li>
</ul>
<h2 id="提取并且输出态密度（DOS）和投影态密度（PDOS）"><a href="#提取并且输出态密度（DOS）和投影态密度（PDOS）" class="headerlink" title="提取并且输出态密度（DOS）和投影态密度（PDOS）"></a>提取并且输出态密度（DOS）和投影态密度（PDOS）</h2><p>功能<code>11</code> 用于态密度结构的后处理。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">111  得到总的态密度</span><br><span class="line">112  输出每一个选定原子的投影态密度到一个文件</span><br><span class="line">113  输出选定元素的投影态密度到每一个文件</span><br><span class="line">114  输出选定原子的投影态密度之和到一个文件中</span><br><span class="line">115  输出选定原子和轨道的投影态密度之和到一个文件中</span><br></pre></td></tr></table></figure>
<h2 id="例子：CO吸附在Ni（100）表面的投影态密度"><a href="#例子：CO吸附在Ni（100）表面的投影态密度" class="headerlink" title="例子：CO吸附在Ni（100）表面的投影态密度"></a>例子：CO吸附在Ni（100）表面的投影态密度</h2><p>进入 <code>/vaspkit.0.73/examples/LDOS_PDOS/Partial_DOS_of_CO_on_Ni_111_surface</code> 目录中，然后使用 <code>vaspkit</code> 的 <code>113</code> 功能得到每一中元素的投影态密度。<br><code>vaspkit</code> 将会输出分别包含 <code>Ni、C、O</code> 元素的投影态密度信息文件 <code>PDOS_Ni.dat</code>, <code>PDOS_C.dat</code>, and <code>PDOS_O.dat</code> 。<br><img src="https://raw.githubusercontent.com/shuai0511/blog-img/main/3-1.png"><br>运行 <code>vaspkit</code> 的 <code>114得到选定原子的投影态密度之和</code> 然后输入 <code>6 7</code> ，<code>vaspkit</code> 将输出 <code>CO</code> 分子的投影态密度之和。<br>运行 <code>vaspkit</code> 的 <code>115 得到选定的原子和轨道的投影态密度之和</code>，如果我们想得到 <code>O</code> 元素的 <code>s</code> 和 <code>p</code> 轨道，<code>C</code> 元素的 <code>s</code> 和 <code>p</code> 轨道，<code>Ni</code> 元素的  <code>d</code> 轨道，</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"> Input the Symbol and/or Number of Atoms to Sum [Total-atom: 7]</span><br><span class="line"> (Free Format is OK, e.g., C Fe H 1-4 7 8 24),Press &quot;Enter&quot; if you want to end e</span><br><span class="line"> ntry!</span><br><span class="line"></span><br><span class="line"> ------------&gt;&gt;</span><br><span class="line">O</span><br><span class="line"> Input the Orbitals to Sum</span><br><span class="line"> Which orbital? s py pz px dxy dyz dz2 dxz dx2 f-3 ~ f3, &quot;all&quot; for summing ALL.</span><br><span class="line">s</span><br><span class="line">...</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>输入 <code>O - s - O - p - C - s - C - p - Ni - d - ，&#39;Enter&#39; - 0</code>，然后在这个文件夹下将会产生一个 <code>PDOS_USER.dat</code> 文件，它包括：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">  #Energy        O_s        O_p        C_s        C_p     Ni_d</span><br><span class="line">-27.10266    0.00000    0.00000    0.00000    0.00000    0.00000</span><br><span class="line">-26.92966    0.00000    0.00000    0.00000    0.00000    0.00000</span><br><span class="line">-26.75566    0.00000    0.00000    0.00000    0.00000    0.00000</span><br><span class="line">-26.58266    0.00000    0.00000    0.00000    0.00000    0.00000</span><br><span class="line">...</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p><img src="https://raw.githubusercontent.com/shuai0511/blog-img/main/3-2.png"><br>输入原子的符号或者（和）序号都可以，你可以输入 <code>1-3 4 Ni</code> 命令来选择1、2、3、4和Ni元素来加和投影态密度。通过输入轨道进行加和的命令仅支持标准输入，如果你在 <code>INCAR</code> 中使用 <code>LORBIT = 10</code> 只可以选择 <code>s、p、d、f</code> 轨道；如果你在 <code>INCAR</code> 中使用 <code>LORBIT = 11</code> 可以选择 <code>s、py、pz、px、dxy、dyz、dz2、dxz、dx2、f-3、f-2、f-1、f0、f1、f2</code> 轨道。</p>
<h2 id="d带中心"><a href="#d带中心" class="headerlink" title="d带中心"></a>d带中心</h2><p>将态密度投影到 <code>d</code> 轨道上得到的 <code>d</code> 带中心可以反映过渡金属中的 <code>d</code> 电子态与吸附物种电子态之间的相互关系。<br><img src="https://raw.githubusercontent.com/shuai0511/blog-img/main/3-3.png"><br> <code>vaspkit</code> 的 <code>503</code> 功能可以直接从 <code>vasp</code> 的态密度输出文件中计算每一个原子的 <code>d</code> 带中心。并且用户可以自行设置用于计算的能量范围。</p>
<h2 id="例子：Pt-的金属晶胞，能量窗口设置为从最小负值到费米能级。"><a href="#例子：Pt-的金属晶胞，能量窗口设置为从最小负值到费米能级。" class="headerlink" title="例子：Pt 的金属晶胞，能量窗口设置为从最小负值到费米能级。"></a>例子：<code>Pt</code> 的金属晶胞，能量窗口设置为从最小负值到费米能级。</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">503</span><br><span class="line"> +-------------------------- Warm Tips --------------------------+</span><br><span class="line">         See An Example in vaspkit/examples/d_band_center.</span><br><span class="line">   d-Band Center is Sensitive to the Number of Unoccupied Band.</span><br><span class="line"> Anyway, the Trends are More Important than the Absolute Energies.</span><br><span class="line"> +---------------------------------------------------------------+</span><br><span class="line">  --&gt;&gt; (01) Reading Input Parameters From INCAR File...</span><br><span class="line">  --&gt;&gt; (02) Reading Fermi-Energy from DOSCAR File...</span><br><span class="line"> ooooooooo The Fermi Energy will be set to zero eV ooooooooooooooo</span><br><span class="line">  --&gt;&gt; (03) Reading DOS Data From DOSCAR File...</span><br><span class="line">  --&gt;&gt; (04) Reading Structural Parameters from POSCAR File...</span><br><span class="line"> +------------------------ Your Option --------------------------+</span><br><span class="line"> The default energy window of integration is [-11.82 24.30]</span><br><span class="line"> Do you want to change the change (Y/N)?</span><br><span class="line">y</span><br><span class="line"> Please enter the new energy window with blank (e.g., -10 10)</span><br><span class="line">-11.8 0</span><br><span class="line"> +---------------------------------------------------------------+</span><br><span class="line">  --&gt;&gt; (05) Written D_BAND_CENTER File!</span><br></pre></td></tr></table></figure>
<p>则每一个原子的 <code>d</code> 带中心和总的<code>d</code> 带中心如下描述的 &#96;&#96;<br><code>D_BAND_CENTER</code> 文件中：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># Atom ID       d-Band-Center (eV)</span><br><span class="line">    Pt1:            -3.1184</span><br><span class="line">  Total:            -3.1184</span><br><span class="line"></span><br><span class="line">Notice:</span><br><span class="line">The energy window of integration is [-11.80 0.00].</span><br><span class="line">The calculated d-band-center presented here are referenced to Fermi level, i.e., E_F=0 eV.</span><br></pre></td></tr></table></figure>








      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/posts/b1130656/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Hengshuai Shang">
      <meta itemprop="description" content="study">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hengshuai Shang">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/posts/b1130656/" class="post-title-link" itemprop="url">vaspkit-教程翻译（有效质量）</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2023-09-10 12:12:57 / 修改时间：13:29:28" itemprop="dateCreated datePublished" datetime="2023-09-10T12:12:57+08:00">2023-09-10</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/vaspkit/" itemprop="url" rel="index"><span itemprop="name">vaspkit</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/vaspkit/efficient-mass/" itemprop="url" rel="index"><span itemprop="name">efficient mass</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/posts/b1130656/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/posts/b1130656/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="有效质量"><a href="#有效质量" class="headerlink" title="有效质量"></a>有效质量</h1><h2 id="1"><a href="#1" class="headerlink" title="1"></a>1</h2><p>对于固体材料中的电子或空穴，有效质量（m<em>）是一个用于通过模拟具有该质量的自由粒子的行为来简化能带结构的量。在半导体（如Ge, Si, GaAs, …）的最高价带的电子和例如半导体（GaAs, …）的最低导带能级的，能带E(<strong>k</strong>)可以近似表述为：<br><img src="https://raw.githubusercontent.com/shuai0511/blog-img/main/2-1"><br>E(<strong>k</strong>)是在每一个带中电子波矢的能量，E0是一个常数给出了每一个带的边界，因此（m</em>）可以通过以下方程计算：<br><img src="https://raw.githubusercontent.com/shuai0511/blog-img/main/2-2"><br>通常来说，我们仅仅对于那些从一个高对称点到另一个对称点的有效质量（m*）感兴趣。所以对于ki和kj方向的相同，such as K -&gt; M, K -&gt; Γ. 为了得到二阶偏导数， <code>KPOINTS</code> 文件中要包含特别靠近高对称点的 <code>K</code> 点， <code>vaspkit</code> 可以自动生成用于 <code>vasp</code> 计算有效质量的 <code>KPOINTS</code> 文件。（<strong>注意：现在，<code>vaspkit</code> 仅仅可以用于计算不带电荷且不含有磁性的半导体的有效质量！</strong>）<br><img src="https://raw.githubusercontent.com/shuai0511/blog-img/main/2-3"></p>
<h2 id="例子：单层MoS2的有效质量"><a href="#例子：单层MoS2的有效质量" class="headerlink" title="例子：单层MoS2的有效质量"></a>例子：单层MoS2的有效质量</h2><ul>
<li>1、通过能带计算找到带边位置，价带顶和导带底均处在 <code>K</code> 点处，为直接半导体。</li>
<li>2、选择二阶偏微分的方向。在这里，我们选择K -&gt; M, K -&gt; Γ来计算他们电子和空穴的有效质量。</li>
<li>3、准备需要的 <code>POSCAR</code> 和 VPKIT.in&#96; 文件。<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1       # &quot;1&quot; for pre-process (generate KPOINTS), &quot;2&quot; for post-process(calculate m*)</span><br><span class="line">6       # number of points for quadratic function fitting.</span><br><span class="line">0.015   # k-cutoff, unit Å-1.</span><br><span class="line">2       # number of tasks for effective mass calculation</span><br><span class="line">0.333333 0.3333333 0.000 0.000 0.000 0.000 K-&gt;Γ # Specified two K-points and direction</span><br><span class="line">0.333333 0.3333333 0.000 0.500 0.000 0.000 K-&gt;M # Specified two K-points and direction</span><br></pre></td></tr></table></figure></li>
<li>4、使用 <code>vaspkit</code> 的 <code>912</code> 功能，然后输入 <code>K-mesh</code> 模式的参数，之后 <code>vaspkit</code> 将会基于 <code>VPKIT.in</code> 生成一个包含0权重的 <code>KPOINTS</code> 文件。<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">+-------------------------- Warm Tips --------------------------+</span><br><span class="line">      Test ONLY for Non-Charged &amp; Non-Magnetic Semiconductor!</span><br><span class="line"> +---------------------------------------------------------------+</span><br><span class="line">  --&gt;&gt; (01) Reading VPKIT.in File...</span><br><span class="line">  --&gt;&gt; (02) Reading Structural Parameters from POSCAR File...</span><br><span class="line"> ======================= K-Mesh Scheme ==========================</span><br><span class="line"> 1) Monkhorst-Pack Scheme</span><br><span class="line"> 2) Gamma Scheme</span><br><span class="line"></span><br><span class="line"> 0)   Quit</span><br><span class="line"> 9)   Back</span><br><span class="line"> -------------&gt;&gt;</span><br><span class="line">2</span><br><span class="line"> +-------------------------- Warm Tips --------------------------+</span><br><span class="line"></span><br><span class="line">- Accuracy Levels: Gamma-Only: 0;</span><br><span class="line">   Low: 0.06~0.04;</span><br><span class="line">   Medium: 0.04~0.03;</span><br><span class="line">   Fine: 0.02-0.01.</span><br><span class="line">- 0.03-0.04 is Generally Precise Enough!</span><br><span class="line">  +---------------------------------------------------------------+</span><br><span class="line">   Input KPT-Resolved Value (e.g., 0.04, in unit of 2*PI/Angstrom):</span><br><span class="line">   ------------&gt;&gt;</span><br><span class="line">  0.04</span><br><span class="line">       1</span><br><span class="line">    --&gt;&gt; (03) Written KPOINTS File!</span><br><span class="line">    --&gt;&gt; (04) Written INCAR file!</span><br><span class="line">    --&gt;&gt; (05) Written POTCAR File with the Standard Potential!</span><br></pre></td></tr></table></figure>
自动产生的 <code>KPOINTS</code> 文件如下：<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">Parameters to Generate KPOINTS (Don&#x27;t Edit This Line):     0.0400    12     2     6</span><br><span class="line">    24</span><br><span class="line">Reciprocal lattice</span><br><span class="line">    0.00000000000000    0.00000000000000    0.00000000000000     1</span><br><span class="line">    0.11111111111111    0.00000000000000    0.00000000000000     6</span><br><span class="line">    0.22222222222222    0.00000000000000    0.00000000000000     6</span><br><span class="line">    0.33333333333333    0.00000000000000    0.00000000000000     6</span><br><span class="line">    0.44444444444444    0.00000000000000    0.00000000000000     6</span><br><span class="line">    0.11111111111111    0.11111111111111    0.00000000000000     6</span><br><span class="line">    0.22222222222222    0.11111111111111    0.00000000000000    12</span><br><span class="line">    0.33333333333333    0.11111111111111    0.00000000000000    12</span><br><span class="line">    0.44444444444444    0.11111111111111    0.00000000000000     6</span><br><span class="line">    0.22222222222222    0.22222222222222    0.00000000000000     6</span><br><span class="line">    0.33333333333333    0.22222222222222    0.00000000000000    12</span><br><span class="line">    0.33333333333333    0.33333333333333    0.00000000000000     2</span><br><span class="line">    0.33333300000000    0.33333330000000    0.00000000000000     0 # K-&gt;Γ</span><br><span class="line">    0.32795808307727    0.33136593967371    0.00000000000000     0</span><br><span class="line">    0.32258316615454    0.32939857934742    0.00000000000000     0</span><br><span class="line">    0.31720824923180    0.32743121902113    0.00000000000000     0</span><br><span class="line">    0.31183333230907    0.32546385869484    0.00000000000000     0</span><br><span class="line">    0.30645841538634    0.32349649836855    0.00000000000000     0</span><br><span class="line">    0.33333300000000    0.33333330000000    0.00000000000000     0 # K-&gt;M</span><br><span class="line">    0.33673240318272    0.32574567174541    0.00000000000000     0</span><br><span class="line">    0.34013180636544    0.31815804349082    0.00000000000000     0</span><br><span class="line">    0.34353120954815    0.31057041523622    0.00000000000000     0</span><br><span class="line">    0.34693061273087    0.30298278698163    0.00000000000000     0</span><br><span class="line">    0.35033001591359    0.29539515872704    0.00000000000000     0</span><br></pre></td></tr></table></figure></li>
<li>5、提交 <code>vasp</code> 任务，</li>
<li>6、使用 <code>2</code>代替 <code>VPKIT.in</code> 文件的第一行，然后重新运行 <code>vaspkit</code> 的 <code>913</code> 功能去得到电子和空穴的有效质量（m*）。<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">913</span><br><span class="line"> +-------------------------- Warm Tips --------------------------+</span><br><span class="line">      Test ONLY for Non-Charged &amp; Non-Magnetic Semiconductor!</span><br><span class="line"> +---------------------------------------------------------------+</span><br><span class="line">  --&gt;&gt; (01) Reading VPKIT.in File...</span><br><span class="line">  --&gt;&gt; (02) Reading Structural Parameters from POSCAR File...</span><br><span class="line">  --&gt;&gt; (03) Reading Input Parameters From INCAR File...</span><br><span class="line">  --&gt;&gt; (04) Reading Energy-Levels From EIGENVAL File...</span><br><span class="line"> +-------------------------- Summary ----------------------------+</span><br><span class="line"> Effective-Mass is obtained by fitting a third order polynomial,</span><br><span class="line"> which yields masses are less sensitive to the employed k-points.</span><br><span class="line"> Band Index:                LUMO =   10               HOMO =   9</span><br><span class="line"> Effective-Mass (in m0)     Electron (Prec.)          Hole (Prec.)</span><br><span class="line"> K-Path Index 1: K-&gt;Γ        0.480 (0.2E-07)      -0.577 (0.2E-07)</span><br><span class="line"> K-Path Index 2: K-&gt;M        0.527 (0.8E-07)      -0.705 (0.2E-06)</span><br><span class="line"> +---------------------------------------------------------------+</span><br></pre></td></tr></table></figure>
<code>Kormányos</code> 等人计算量单层MoS2电子和空穴载流子的有效质量分别为 <code>0.44</code> 和 <code>0.54</code> .（ [see 2D Mater. 2 (2015) 049501]）<strong>注意：如果价带和导带底</strong>再生(就像<code>GaAs</code> and <code>GaN</code>)，将很难同时保证结果的准确性。</li>
</ul>
<h1 id="能带的反折叠"><a href="#能带的反折叠" class="headerlink" title="能带的反折叠"></a>能带的反折叠</h1><p>真实材料的电子结构通常会被大量的结构杂质、缺陷、合金的元素占比的变化等因素所扰乱。在密度泛函理论的计算中，结构缺陷和不对称性通常需要通过超胞(SC)模型来研究，在原胞（PC）中对能带的解释使用E(k⃗ )比k⃗ 更有效，<code>Popescu</code> 和 <code>Zunger</code> [见 PRL 104, 236403 (2010) and PRB 85, 085201 (2012)]提出了有效能带结构（EBS）方法，可以应用反折叠方法将超胞的能带处理到原胞的布里渊区（BZ），这样的反折叠技术可以很大程度上简化结果的分析并且可以直接与实验测量结果进行直接比较。例如，角度分辨光发射光谱（ARPES）经常代表了沿着原胞（PC）布里渊区（BZ）高对称点方向。<br><img src="https://raw.githubusercontent.com/shuai0511/blog-img/main/2-4"></p>
<h2 id="第一步，准备以下文件"><a href="#第一步，准备以下文件" class="headerlink" title="第一步，准备以下文件"></a>第一步，准备以下文件</h2><ul>
<li>1、单层MoS2的 <code>POSCAR</code><br>  原胞：<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">MoS2-H.POSCAR</span><br><span class="line">   1.00000000000000000</span><br><span class="line">     3.1904063769892548    0.0000000000000000    0.0000000000000000</span><br><span class="line">    -1.5952031884946274    2.7629729709066906    0.0000000000000000</span><br><span class="line">     0.0000000000000000    0.0000000000000000   17.6585355706663840</span><br><span class="line">   Mo   S</span><br><span class="line">     1     2</span><br><span class="line">Direct</span><br><span class="line">  0.3333333429999996  0.6666666870000029  0.5000000000000000</span><br><span class="line">  0.6666666870000029  0.3333333429999996  0.4117002781430051</span><br><span class="line">  0.6666666870000029  0.3333333429999996  0.5882996918569924</span><br></pre></td></tr></table></figure></li>
<li>2、<code>MoS2</code> 的 <code>KPATH.in</code><br>原胞（不用进行超胞），你可以运行 <code>vaspkit</code> 的 <code>302</code> 功能（二维材料）或者 <code>303</code> (体相材料)产生原胞，或者手动进行修改。对于单层的 <code>MoS2</code> ，我们选择 <code>M-K-Γ</code> 这个 <code>K-path</code> 。<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">KPATH for MoS2</span><br><span class="line">20</span><br><span class="line">Line mode</span><br><span class="line">Rec</span><br><span class="line">  0.00000000000 0.50000000000 0.00000000000 # M</span><br><span class="line">  0.33333333333 0.33333333333 0.00000000000 # K</span><br><span class="line"></span><br><span class="line">  0.33333333333 0.33333333333 0.00000000000 # K</span><br><span class="line">  0.00000000000 0.00000000000 0.00000000000 # GAMMA</span><br></pre></td></tr></table></figure></li>
<li>3、对于静态计算的 <code>INCAR</code> 文件，将 <code>LWAVE=.TRUE</code> 避免’ERROR! Computed NPLANE&#x3D; **** !&#x3D; input NPLANE&#x3D; ****’这个报错，请将 <code>PREC</code> 参数设置为 <code>Normal</code> 或者设置一个中等或者更低的截断能（ENCUT）。<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">SYSTEM = MoS2</span><br><span class="line">ISTART = 1</span><br><span class="line">LREAL = F</span><br><span class="line">PREC = N</span><br><span class="line">LWAVE = .TRUE.</span><br><span class="line">LCHARG = F</span><br><span class="line">ISMEAR = 0</span><br><span class="line">SIGMA = 0.05</span><br><span class="line">NELM = 60</span><br><span class="line">NELMIN = 6</span><br><span class="line">EDIFF = 1E-08</span><br></pre></td></tr></table></figure></li>
<li>4、<code>TRANSMAT.in</code> 文件（可选），这个文件的目录<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Read transformation matrix from the TRANSMAT.in file if it exists.</span><br><span class="line">  2  0  0   # must be three integers</span><br><span class="line">  0  3  0   # must be three integers</span><br><span class="line">  0  0  3   # must be three integers</span><br></pre></td></tr></table></figure>
第一行是评论行，第二到第四行的整数是一个3行3列的转换矩阵，M是超胞E(A⃗ )晶格矢量之间的联系去满足E(a⃗ )。<br><img src="https://raw.githubusercontent.com/shuai0511/blog-img/main/2-5"><br>在矩阵M中，非对角线元素为0，超胞的晶格矢量将会与原胞的晶格矢量平行。</li>
</ul>
<h2 id="第二步-运行-vaspkit-的-400-功能产生一个超胞文件-SUPERCELL-vasp-和-TRANSMAT-如果不存在-TANSMAT-in-文件-。我们修改-SUPERCELL-vasp-文件删去一个-S-原子来制造一个-S-空位。"><a href="#第二步-运行-vaspkit-的-400-功能产生一个超胞文件-SUPERCELL-vasp-和-TRANSMAT-如果不存在-TANSMAT-in-文件-。我们修改-SUPERCELL-vasp-文件删去一个-S-原子来制造一个-S-空位。" class="headerlink" title="第二步 运行 vaspkit 的 400 功能产生一个超胞文件 SUPERCELL.vasp 和 TRANSMAT (如果不存在 TANSMAT.in 文件)。我们修改 SUPERCELL.vasp 文件删去一个 S 原子来制造一个 S 空位。"></a>第二步 运行 <code>vaspkit</code> 的 <code>400</code> 功能产生一个超胞文件 <code>SUPERCELL.vasp</code> 和 <code>TRANSMAT</code> (如果不存在 <code>TANSMAT.in</code> 文件)。我们修改 <code>SUPERCELL.vasp</code> 文件删去一个 <code>S</code> 原子来制造一个 <code>S</code> 空位。</h2><p>单层的MoS2的原胞属于六方晶系。我们可以通过使用 <code>vaspkit</code> 的 <code>400</code> 建立一个正交超胞，如果 <code>TRANSMAT.in</code> 文件不存在，<code>vaspkit</code> 将会通过对话框来读取 <code>M</code> 的9个元素（见下面的命令），否则，将会从<code>TRANSMAT.in</code> 文件中读取矩阵 <code>M</code> 。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">vaspkit -task 400</span><br><span class="line"> +---------------------------------------------------------------+</span><br><span class="line"> |           VASPKIT Version: 1.00.RC (17 Jun. 2019)             |</span><br><span class="line"> |       A Pre- and Post-Processing Program for VASP Code        |</span><br><span class="line"> |            Running VASPKIT Under Command-Line Mode            |</span><br><span class="line"> +---------------------------------------------------------------+</span><br><span class="line">  --&gt;&gt; (01) Reading Structural Parameters from POSCAR File...</span><br><span class="line"> Enter the new lattice verctor a in terms of old:</span><br><span class="line"> (MUST be three integers, e.g., 1 2 3)</span><br><span class="line">   4   0   0</span><br><span class="line"> Enter the new lattice verctor b in terms of old:</span><br><span class="line">   2   4   0</span><br><span class="line"> Enter the new lattice verctor c in terms of old:</span><br><span class="line">   0   0   1</span><br><span class="line"> +-------------------------- Summary ----------------------------+</span><br><span class="line"> The Transformation Matrix P is:</span><br><span class="line">   4   0   0</span><br><span class="line">   2   4   0</span><br><span class="line">   0   0   1</span><br><span class="line"> Lattice Constants in New Cell:  12.762  11.052  17.659</span><br><span class="line"> Lattice Angles in New Cell:   90.00   90.00   90.00</span><br><span class="line"> Total Atoms in New Cell:  48</span><br><span class="line"> Volume of New Cell is 16 times of the Old Cell</span><br><span class="line"> +---------------------------------------------------------------+</span><br><span class="line">  --&gt;&gt; (02) Written SUPERCELL.vasp File</span><br></pre></td></tr></table></figure>
<h2 id="第三步：将-SUPERCELL-vasp-复制为-POSCAR-并且将-TRANSMAT-复制为-TRANSMAT-in-（如果不存在-TRANSMAT-in-文件），然后运行-vaspkit-的-281-命令产生-KPOINTS-文件。"><a href="#第三步：将-SUPERCELL-vasp-复制为-POSCAR-并且将-TRANSMAT-复制为-TRANSMAT-in-（如果不存在-TRANSMAT-in-文件），然后运行-vaspkit-的-281-命令产生-KPOINTS-文件。" class="headerlink" title="第三步：将 SUPERCELL.vasp 复制为 POSCAR ,并且将 TRANSMAT 复制为 TRANSMAT.in （如果不存在 TRANSMAT.in 文件），然后运行 vaspkit 的 281 命令产生 KPOINTS 文件。"></a>第三步：将 <code>SUPERCELL.vasp</code> 复制为 <code>POSCAR</code> ,并且将 <code>TRANSMAT</code> 复制为 <code>TRANSMAT.in</code> （如果不存在 <code>TRANSMAT.in</code> 文件），然后运行 <code>vaspkit</code> 的 <code>281</code> 命令产生 <code>KPOINTS</code> 文件。</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">------------&gt;&gt;</span><br><span class="line">28</span><br><span class="line"> +-------------------------- Warm Tips --------------------------+</span><br><span class="line">       See some examples in vaspkit/examples/band_unfolding.</span><br><span class="line">          Only Support KPOINTS file Generated by VASPKIT.</span><br><span class="line">            Please Set LWAVE= .TRUE. in the INCAR file.</span><br><span class="line"> +---------------------------------------------------------------+</span><br><span class="line"> ================== Band-Unfolding ==============================</span><br><span class="line"> 281) Generate KPOINTS File for Band-Unfolding Calculation</span><br><span class="line"> 282) Calculate Effective Band Structure</span><br><span class="line"></span><br><span class="line"> 0)   Quit</span><br><span class="line"> 9)   Back</span><br><span class="line"> ------------&gt;&gt;</span><br><span class="line">281</span><br><span class="line"></span><br><span class="line">  --&gt;&gt; (01) Reading Structural Parameters from POSCAR File...</span><br><span class="line"> +---------------------------------------------------------------+</span><br><span class="line"> |               Selective Dynamics is Activated!                |</span><br><span class="line"> +---------------------------------------------------------------+</span><br><span class="line"> ======================= K-Mesh Scheme ==========================</span><br><span class="line"> 1) Monkhorst-Pack Scheme</span><br><span class="line"> 2) Gamma Scheme</span><br><span class="line"></span><br><span class="line"> 0)   Quit</span><br><span class="line"> 9)   Back</span><br><span class="line"> -------------&gt;&gt;</span><br><span class="line">2</span><br><span class="line"> +-------------------------- Warm Tips --------------------------+</span><br><span class="line"> Input Resolution Value to Determine K-Mesh for SCF Calculation:</span><br><span class="line"> (Typical Value: 0.02-0.03 is Generally Precise Enough)</span><br><span class="line"> ------------&gt;&gt;</span><br><span class="line">0.03</span><br><span class="line"> Input Resolution Value along K-Path for Band Calculation:</span><br><span class="line"> (Typical Value: 0.02-0.04 for DFT and 0.04-0.06 for hybrid DFT)</span><br><span class="line"> ------------&gt;&gt;</span><br><span class="line">0.03</span><br><span class="line"> +---------------------------------------------------------------+</span><br><span class="line">  --&gt;&gt; (02) Readin Transformation Matrix from TRANSMAT.in file...</span><br><span class="line">  --&gt;&gt; (03) Reading K-Paths From KPATH.in File...</span><br><span class="line"> +-------------------------- Summary ----------------------------+</span><br><span class="line"> K-Mesh for SCF Calculation:    3    3    1    # Based on SC reciprocal lattice length</span><br><span class="line"> The Number of K-Point along K-Path 1:  21     # Based on PC reciprocal lattice length</span><br><span class="line"> The Number of K-Point along K-Path 2:  43     # Based on PC reciprocal lattice length</span><br><span class="line"> +---------------------------------------------------------------+</span><br></pre></td></tr></table></figure>
<h2 id="第四步-提交任务"><a href="#第四步-提交任务" class="headerlink" title="第四步 提交任务"></a>第四步 提交任务</h2><h2 id="第五步-运行-vaspkit-的-282-功能来得到有效能带结构-EBS"><a href="#第五步-运行-vaspkit-的-282-功能来得到有效能带结构-EBS" class="headerlink" title="第五步 运行 vaspkit 的 282 功能来得到有效能带结构 EBS ."></a>第五步 运行 <code>vaspkit</code> 的 <code>282</code> 功能来得到有效能带结构 <code>EBS</code> .</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">------------&gt;&gt;</span><br><span class="line">282</span><br><span class="line"> +-------------------------- Warm Tips --------------------------+</span><br><span class="line">   Current Version Only Support the Stardard Version of VASP code.</span><br><span class="line"> +---------------------------------------------------------------+</span><br><span class="line">  --&gt;&gt; (01) Reading the header information in WAVECAR file...</span><br><span class="line"> +--------------------- WAVECAR Header --------------------------+</span><br><span class="line"> SPIN =    1</span><br><span class="line"> NKPTS =   68</span><br><span class="line"> NBANDS = 252</span><br><span class="line"> ENCUT =   280.00</span><br><span class="line"> Coefficients Precision: Complex*8</span><br><span class="line"> Maximum number of G values: GX =   18, GY =   16, GZ =   25</span><br><span class="line"> Estimated maximum number of plane-waves:   30159</span><br><span class="line"> +---------------------------------------------------------------+</span><br><span class="line">  --&gt;&gt; (02) Start to read WAVECAR file, take your time ^.^</span><br><span class="line">            Percentage complete:  25.0%</span><br><span class="line">            Percentage complete:  50.0%</span><br><span class="line">            Percentage complete:  75.0%</span><br><span class="line">            Percentage complete: 100.0%</span><br><span class="line">  --&gt;&gt; (03) Readin Transformation Matrix from TRANSMAT.in file...</span><br><span class="line">  --&gt;&gt; (04) Reading Fermi-Energy from DOSCAR File...</span><br><span class="line"> ooooooooo The Fermi Energy will be set to zero eV ooooooooooooooo</span><br><span class="line">  --&gt;&gt; (05) Reading KPOINTS_MAPPING_TABLE.in file...</span><br><span class="line">  --&gt;&gt; (06) Reading K-Paths From KPATH.in File...</span><br><span class="line">  --&gt;&gt; (07) Start to Calculate Effective Band Structure...</span><br><span class="line">            Percentage complete:  25.0%</span><br><span class="line">            Percentage complete:  50.0%</span><br><span class="line">            Percentage complete:  75.0%</span><br><span class="line">            Percentage complete: 100.0%</span><br><span class="line">  --&gt;&gt; (08) Written EBS.dat File!</span><br><span class="line">  --&gt;&gt; (09) Written KLABELS File!</span><br></pre></td></tr></table></figure>
<h2 id="第六步：你可以使用-vaspkit-examples-band-unfolding-eps-plot-py-或者其他脚本绘图。"><a href="#第六步：你可以使用-vaspkit-examples-band-unfolding-eps-plot-py-或者其他脚本绘图。" class="headerlink" title="第六步：你可以使用 vaspkit/examples/band_unfolding/eps_plot.py 或者其他脚本绘图。"></a>第六步：你可以使用 <code>vaspkit/examples/band_unfolding/eps_plot.py</code> 或者其他脚本绘图。</h2><h1 id="三维能带结构"><a href="#三维能带结构" class="headerlink" title="三维能带结构"></a>三维能带结构</h1><p>在固体物理中，最普通的是二维电子能带结构（或者称为简化能带结构），它显示了能量随着 <code>k-Path</code> 的变化。<br><code>vaspkit</code> 也可以做三维能带结构，可以选择不可约布里渊区的表面的 <code>K-path</code> 。然后基于这些 <code>K</code> 点计算k依赖的带的能量。这个方法经常被用于二维材料，例如（石墨烯）。</p>
<h2 id="例子-石墨烯的三维能带结构"><a href="#例子-石墨烯的三维能带结构" class="headerlink" title="例子 石墨烯的三维能带结构"></a>例子 石墨烯的三维能带结构</h2><ul>
<li>1、准备石墨烯的 <code>POSCAR</code> 和 <code>INCAR</code> 文件用于自洽计算。在博客<code>https://shuai0511.github.io/posts/b9df750d/</code> 中有介绍。</li>
<li>2、运行 <code>vaspkit</code> 的 <code>231</code> 功能生成一个用于三维能带计算的 <code>KPOINTS</code> 文件。如下面那样执行。产生的 <code>KPOINTS</code> 包括权重为 <code>1</code> 的 <code>k</code> 点和权重为 <code>0</code> 的 <code>k</code> 点.（<strong>注意：为了得到圆滑的三位能带结构，用于产生 <code>KPOINTS</code> 的解析值应设置为 <code>0.01</code> 附近。</strong>）<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">231</span><br><span class="line"></span><br><span class="line"> +-------------------------- Warm Tips --------------------------+</span><br><span class="line">   * Accuracy Levels: (1) Low:    0.04~0.03;</span><br><span class="line">                      (2) Medium: 0.03~0.02;</span><br><span class="line">                      (3) Fine:   0.02~0.01.</span><br><span class="line">   * 0.015 is Generally Precise Enough!</span><br><span class="line"> +---------------------------------------------------------------+</span><br><span class="line"> Input KP-Resolved Value (unit: 2*PI/Ang):</span><br><span class="line"> ------------&gt;&gt;</span><br><span class="line">0.015</span><br><span class="line"></span><br><span class="line">  --&gt;&gt; (01) Reading Structural Parameters from POSCAR File...</span><br><span class="line">  --&gt;&gt; (02) Written KPOINTS File!</span><br></pre></td></tr></table></figure></li>
<li>3、提交任务</li>
<li>4、在计算完成之后，再次运行 <code>vaspkit</code> 并使用 <code>232</code> 或者 <code>233</code> 命令。<code>233</code> 命令可以输出价带顶和导带底分别到 <code>BAND.HOMO.grd</code> 和 <code>BAND.LUMO.grd</code>文件。<code>232</code> 可以得到其他带的计算数据。这里我们选择 <code>233</code> 。<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">------------&gt;&gt;</span><br><span class="line">233</span><br><span class="line"> +-------------------------- Warm Tips --------------------------+</span><br><span class="line">           ONLY Reliable for Band-Structure Calculations!</span><br><span class="line"> +---------------------------------------------------------------+</span><br><span class="line"> --&gt;&gt; (1) Reading Input Parameters From INCAR File...</span><br><span class="line"> --&gt;&gt; (2) Reading Structural Parameters from POSCAR File...</span><br><span class="line"> --&gt;&gt; (3) Reading Fermi-Level From DOSCAR File...</span><br><span class="line">ooooooooo The Fermi Energy will be set to zero eV oooooooooooooooo</span><br><span class="line"> --&gt;&gt; (4) Reading Energy-Levels From EIGENVAL File...</span><br><span class="line"> --&gt;&gt; (5) Reading Kmesh From KPOINTS File...</span><br><span class="line"> --&gt;&gt; (6) Written BAND.HOMO.grd File.</span><br><span class="line"> --&gt;&gt; (7) Written BAND.LUMO.grd File.</span><br><span class="line"> --&gt;&gt; (8) Written KX.grd and KY.grd Files.</span><br></pre></td></tr></table></figure></li>
<li>5、 运行 <code>python VASPKITdir/examples/3D_band/how_to_visual.py</code> 绘制三维能带结构。<br><img src="https://raw.githubusercontent.com/shuai0511/blog-img/main/2-6"></li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/posts/39848d7/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Hengshuai Shang">
      <meta itemprop="description" content="study">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hengshuai Shang">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/posts/39848d7/" class="post-title-link" itemprop="url">vaspkit 能带结构处理</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-09-09 12:12:57" itemprop="dateCreated datePublished" datetime="2023-09-09T12:12:57+08:00">2023-09-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-09-10 13:29:09" itemprop="dateModified" datetime="2023-09-10T13:29:09+08:00">2023-09-10</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/vasp/" itemprop="url" rel="index"><span itemprop="name">vasp</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/vasp/%E7%BF%BB%E8%AF%91/" itemprop="url" rel="index"><span itemprop="name">翻译</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/posts/39848d7/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/posts/39848d7/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="vaspkit-能带结构处理"><a href="#vaspkit-能带结构处理" class="headerlink" title="vaspkit 能带结构处理"></a>vaspkit 能带结构处理</h1><h2 id="预处理能带结构（杂化泛函）"><a href="#预处理能带结构（杂化泛函）" class="headerlink" title="预处理能带结构（杂化泛函）"></a>预处理能带结构（杂化泛函）</h2><p>随着线性的 <code>K-path</code> ，<code>vaspkit</code> 可以生成 <code>K-path</code> 在没有形成的空间且以 2π * Å-1的 <code>k</code> 点中，其可以用于杂化泛函能带计算。这样的 <code>KPOINTS</code> 文件中就包含两部分，第一部分和带有 <code>K</code> 点在不可约布里渊区中对称性所占比重的用于自洽计算的文件一样，而第二部分是沿着 <code>K-path</code> 中的 <code>0</code> 比重的 <code>K</code> 点。为了产生 <code>KPOINTS</code> 文件：</p>
<ul>
<li>1、像纯泛函一样，做结构优化，运行 <code>302</code> (二维材料) 或者 <code>303</code> (三维材料)去得到。<ul>
<li>标准原胞文件（PRIMCELL.vasp）</li>
<li>用于纯泛函能带计算的线性 <code>K-path</code> (KPATH.in)</li>
<li>以分数坐标显示的高对称点文件（HIGH_SYMMETRY_POINTS），你可以通过对比 <code>seekpath</code>数据库((<a target="_blank" rel="noopener" href="https://www.materialscloud.org/work/tools/seekpath)]">https://www.materialscloud.org/work/tools/seekpath)]</a>.</li>
</ul>
</li>
<li>2、运行 <code>251</code> 产生用于以杂化泛函为基础的能带计算。输入 <code>KPT</code> 的解析值来决定用于自洽计算的  <code>K-mesh</code> 的密度和用于能带计算的 <code>K-path</code> 。然后 <code>vaspkit</code> 将读取 <code>KPARH.in</code> 文件并且产生用于杂化泛函能带计算的 <code>KPOINTS</code> 文件。</li>
<li>3、（可选）基于新生成的 <code>KPOINTS</code> 进行一个 <code>PBE</code>的自洽运算以获得 <code>WAVECAR</code> 文件，将被下一步杂化泛函读入以加速收敛。一般来说，这样可以减少下一步杂化泛函的自洽循环时间。</li>
<li>4、进行杂化泛函能带计算</li>
</ul>
<h2 id="例子：单层的MoS2"><a href="#例子：单层的MoS2" class="headerlink" title="例子：单层的MoS2"></a>例子：单层的MoS2</h2><ul>
<li>1、在优化之后，运行 <code>302</code> 功能：<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">302</span><br><span class="line"> +-------------------------- Warm Tips --------------------------+</span><br><span class="line">     See An Example in vaspkit/examples/seek_kpath/graphene_2D.</span><br><span class="line"> This feature is still experimental &amp; check the PRIMCELL.vasp file.</span><br><span class="line"> +---------------------------------------------------------------+</span><br><span class="line"> --&gt;&gt; (1) Reading Structural Parameters from POSCAR File...</span><br><span class="line"> +-------------------------- Summary ----------------------------+</span><br><span class="line">           The vacuum slab is supposed to be along c axis</span><br><span class="line">                           Prototype: AB2</span><br><span class="line">           Total Atoms in Input Cell:   3</span><br><span class="line">     Lattice Constants in Input Cell:   3.184   3.184  18.410</span><br><span class="line">        Lattice Angles in Input Cell:  90.000  90.000 120.000</span><br><span class="line">       Total Atoms in Primitive Cell:   3</span><br><span class="line"> Lattice Constants in Primitive Cell:   3.184   3.184  18.410</span><br><span class="line">    Lattice Angles in Primitive Cell:  90.000  90.000 120.000</span><br><span class="line">                  2D Bravais Lattice: Hexagonal</span><br><span class="line">                         Space Group: 187</span><br><span class="line">                         Point Group: 26 [ D3h ]</span><br><span class="line">                       International: P-6m2</span><br><span class="line">                 Symmetry Operations:  12</span><br><span class="line">                    Suggested K-Path: (shown in the next line)</span><br><span class="line"> [ GAMMA-M-K-GAMMA ]</span><br><span class="line"> +---------------------------------------------------------------+</span><br><span class="line"> --&gt;&gt; (2) Written PRIMCELL.vasp file.</span><br><span class="line"> --&gt;&gt; (3) Written KPATH.in File for Band-Structure Calculation.</span><br><span class="line"> --&gt;&gt; (4) Written HIGH_SYMMETRY_POINTS File for Reference.</span><br></pre></td></tr></table></figure>
用新产生的 <code>PRIMCELL.vasp</code> 替换原来的 <code>POSCAR</code> 。<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp PRIMCELL.vasp POSCAR</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Primitive Cell</span><br><span class="line">  1.000000</span><br><span class="line">    3.18401832481292    0.00000000000000    0.00000000000000</span><br><span class="line">   -1.59200916240646    2.75744075540316    0.00000000000000</span><br><span class="line">    0.00000000000000    0.00000000000000   18.40999984740000</span><br><span class="line">  S   Mo</span><br><span class="line">   2   1</span><br><span class="line">DIRECT</span><br><span class="line">    0.0000000000000000    0.0000000000000000    0.4151505217091287     S1</span><br><span class="line">    0.0000000000000000    0.0000000000000000    0.5848494782908713     S2</span><br><span class="line">    0.6666666666666666    0.3333333333333333    0.5000000000000000    Mo1</span><br></pre></td></tr></table></figure></li>
</ul>
<p><code>kpatn。in</code> 是线性模式的 <code>KPOINTS</code> 文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">K-Path Generated by VASPKIT.</span><br><span class="line">   20</span><br><span class="line">Line-Mode</span><br><span class="line">Reciprocal</span><br><span class="line">   0.0000000000   0.0000000000   0.0000000000     GAMMA</span><br><span class="line">   0.5000000000   0.0000000000   0.0000000000     M</span><br><span class="line"></span><br><span class="line">   0.5000000000   0.0000000000   0.0000000000     M</span><br><span class="line">   0.3333333333   0.3333333333   0.0000000000     K</span><br><span class="line"></span><br><span class="line">   0.3333333333   0.3333333333   0.0000000000     K</span><br><span class="line">   0.0000000000   0.0000000000   0.0000000000     GAMMA</span><br></pre></td></tr></table></figure>
<p>运行 <code>251</code> 产生用于杂化泛函能带计算的 <code>KPOINTS</code> 文件，选择 <code>1</code> 为 <code>Monkhorst-Pack</code> 方式或者选择 <code>2</code> 仅以 <code>Gamma</code> 点的模式产生用于自洽循环的 <code>k-mesh</code> 。<br>然后输入非零权重和0权重的 <code>K-mesh</code> 的解析值，接着， <code>vaspkit</code> 将会根据用户的输入写一个新的 <code>KPOINTS</code> 文件。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">251</span><br><span class="line"> --&gt;&gt; (1) Reading Structural Parameters from POSCAR File...</span><br><span class="line"> ======================= K-Mesh Scheme ==========================</span><br><span class="line"> 1) Monkhorst-Pack Scheme</span><br><span class="line"> 2) Gamma Scheme</span><br><span class="line"></span><br><span class="line"> 0)   Quit</span><br><span class="line"> 9)   Back</span><br><span class="line"> -------------&gt;&gt;</span><br><span class="line">2</span><br><span class="line"> +-------------------------- Warm Tips --------------------------+</span><br><span class="line"> Input Resolution Value to Determine K-Mesh for SCF Calculation:</span><br><span class="line"> (Typical Value: 0.03-0.04 is Generally Precise Enough)</span><br><span class="line"> ------------&gt;&gt;</span><br><span class="line">0.05</span><br><span class="line"> Input Resolution Value along K-Path for Band Calculation:</span><br><span class="line"> (Typical Value: 0.02-0.04 for DFT and 0.04-0.06 for hybrid DFT)</span><br><span class="line"> ------------&gt;&gt;</span><br><span class="line">0.05</span><br><span class="line"> +---------------------------------------------------------------+</span><br><span class="line"> --&gt;&gt; (2) Reading K-Paths From KPATH.in File...</span><br><span class="line"> +-------------------------- Summary ----------------------------+</span><br><span class="line"> K-Mesh for SCF Calculation:    7    7    1</span><br><span class="line"> The Number of K-Point along K-Path 1:  22</span><br><span class="line"> The Number of K-Point along K-Path 2:  13</span><br><span class="line"> The Number of K-Point along K-Path 3:  26</span><br><span class="line"> +---------------------------------------------------------------+</span><br><span class="line"> --&gt;&gt; (3) Written KPOINTS File!</span><br></pre></td></tr></table></figure>
<p>这里，我们设置非零权重和0权重的 <code>K-mesh</code> 的解析值均为 <code>0.05</code> ，输出的用于自洽计算的 <code>k-mesh</code> 为：<code>7 7 1</code> 。并且沿着每一个 <code>k-path</code> 的 <code>k</code> 点数量为：ΓΓ-&gt; M : 22；M -&gt; K : 13； K -&gt; ΓΓ : 26.  <code>KPOINTS</code> 文件如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">Parameters to Generate KPOINTS (Don&#x27;t Edit This Line):   0.050  0.050    8   61   3  22  13  26</span><br><span class="line">    69</span><br><span class="line">Reciprocal lattice</span><br><span class="line">    0.00000000000000    0.00000000000000    0.00000000000000     1</span><br><span class="line">    0.14285714285714    0.00000000000000    0.00000000000000     6</span><br><span class="line">    0.28571428571429    0.00000000000000    0.00000000000000     6</span><br><span class="line">    0.42857142857143    0.00000000000000    0.00000000000000     6</span><br><span class="line">    0.14285714285714    0.14285714285714    0.00000000000000     6</span><br><span class="line">    0.28571428571429    0.14285714285714    0.00000000000000    12</span><br><span class="line">    0.42857142857143    0.14285714285714    0.00000000000000     6</span><br><span class="line">    0.28571428571429    0.28571428571429    0.00000000000000     6</span><br><span class="line">    0.00000000000000    0.00000000000000    0.00000000000000     0</span><br><span class="line">    0.02380952380952    0.00000000000000    0.00000000000000     0</span><br><span class="line">   ...</span><br><span class="line">   ...</span><br><span class="line">   ...</span><br><span class="line">    0.02666666666400    0.02666666666400    0.00000000000000     0</span><br><span class="line">    0.01333333333200    0.01333333333200    0.00000000000000     0</span><br><span class="line">    0.00000000000000    0.00000000000000    0.00000000000000     0</span><br></pre></td></tr></table></figure>
<ul>
<li>3、做 <code>PBE</code> , 这个可以跳过。</li>
<li>4、做杂化能带计算，<code>INCAR</code> 的详细参数在这个网站有详细讨论（<a target="_blank" rel="noopener" href="http://blog.wangruixing.cn/2019/05/20/hse/">http://blog.wangruixing.cn/2019/05/20/hse/</a>）<br><code>INCAR</code> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">##### initial I/O #####</span><br><span class="line">SYSTEM = Hybird Functional</span><br><span class="line">ISTART = 1</span><br><span class="line">ICHARG = 1</span><br><span class="line">LWAVE = .TRUE.</span><br><span class="line">LCHARG = .TRUE.</span><br><span class="line">LVTOT = .FALSE.</span><br><span class="line">LVHAR = .FALSE.</span><br><span class="line">LELF = .FALSE.</span><br><span class="line">LORBIT = 11</span><br><span class="line">NEDOS = 1000</span><br><span class="line"></span><br><span class="line">##### SCF #####</span><br><span class="line">ENCUT = 500</span><br><span class="line">ISMEAR = 0</span><br><span class="line">SIGMA = 0.05</span><br><span class="line">EDIFF = 1E-6</span><br><span class="line">NELMIN = 5</span><br><span class="line">NELM = 300</span><br><span class="line">GGA = PE</span><br><span class="line">LREAL = .FALSE.</span><br><span class="line"># PREC = Accurate</span><br><span class="line"># ISYM = 3</span><br><span class="line"></span><br><span class="line">##### Geo opt #####</span><br><span class="line">EDIFFG = -0.01</span><br><span class="line">IBRION = 2</span><br><span class="line">POTIM = 0.2</span><br><span class="line">NSW = 0 # no Geo_opt</span><br><span class="line">ISIF = 3  # 2 not optimize cell</span><br><span class="line"></span><br><span class="line">#### HSE ####</span><br><span class="line">LHFCALC = .TRUE.</span><br><span class="line">AEXX   =  0.25</span><br><span class="line">HFSCREEN = 0.2</span><br><span class="line">ALGO = ALL # or Damped</span><br><span class="line">TIME   =  0.4</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="杂化能带的后处理（杂化泛函）"><a href="#杂化能带的后处理（杂化泛函）" class="headerlink" title="杂化能带的后处理（杂化泛函）"></a>杂化能带的后处理（杂化泛函）</h2><ul>
<li>5、使用 <code>252</code> 命令提取能带信息，能带数据被保存在一个称为 <code>BAND.dat</code> 和 <code>BAND-REFORMATTED.dat</code> 文件中。<br><strong>注意：在0.75版本中有Bug，请在新版本中使用。</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">252</span><br><span class="line">  --&gt;&gt; (01) Reading Input Parameters From INCAR File...</span><br><span class="line">  --&gt;&gt; (02) Reading Fermi-Energy from DOSCAR File...</span><br><span class="line"> ooooooooo The Fermi Energy will be set to zero eV ooooooooooooooo</span><br><span class="line">  --&gt;&gt; (03) Reading Energy-Levels From EIGENVAL File...</span><br><span class="line">  --&gt;&gt; (04) Reading Structural Parameters from POSCAR File...</span><br><span class="line">  --&gt;&gt; (05) Reading K-Paths From KPATH.in File...</span><br><span class="line">  --&gt;&gt; (06) Written BAND.dat File!</span><br><span class="line">  --&gt;&gt; (07) Written BAND_REFORMATTED.dat File!</span><br><span class="line">  --&gt;&gt; (08) Written KLINES.dat File!</span><br><span class="line">  --&gt;&gt; (09) Written KLABELS File!</span><br><span class="line">  --&gt;&gt; (10) Written BAND_GAP File!</span><br><span class="line"> If you want use the default setting, type 0, if modity type 1</span><br><span class="line">0</span><br><span class="line">  --&gt;&gt; (11) Graph has been generated!</span><br></pre></td></tr></table></figure>
如果 <code>ptyhon</code> 和 <code>matplotlib</code> 配置正确，<code>vaspkit</code> 将会自动输出一个能带图片 <code>band.png</code> 。在 <code>~/.vaspkit</code> 中要修改以下参数：<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">PYTHON_BIN           ~/anaconda3/bin/python3</span><br><span class="line">PLOT_MATPLOTLIB          .TURE.</span><br></pre></td></tr></table></figure></li>
</ul>
<p><img src="https://raw.githubusercontent.com/shuai0511/blog-img/main/1-1"></p>
<p>你也可以使用 <code>BAND.dat</code> 或者 <code>BAND_REFORMATTED.dat</code> 数据运用 <code>ORIGIN</code> 进行绘图。</p>
<p>通过对比线性的 <code>KPOINTS</code> （ <code>302</code> 和 <code>303</code> 功能），<code>25</code> 功能的最大优点是 <code>k</code> 空间沿着 <code>k-path</code> 是平均分布，他保存了计算的花费。<br><code>0.72</code> 和之前的版本对于每一个能线的 <code>k</code> 点数量相同，导致其在不同的路径上分布不同，就像下面左图所示。最新版本的 <code>vaspkit</code> 提供了基于一个给定的 <code>k-point</code> 间隔去自动决定不同能带路径上的 <code>k</code> 点数量，从而可以均匀的遍布整个能带，如下面右图所示：<br>通过 <code>vaspkit</code> 的 <code>251</code> 生成的 <code>KPOINTS</code> 保持了每个 <code>k</code> 点之间的间距。所以，你可以使用更少的0权重的  <code>k</code> 点来得到相似质量的能带图，因此，当进行能带结构计算时，可以使用更少的时间。</p>
<p><img src="https://raw.githubusercontent.com/shuai0511/blog-img/main/1-2"></p>
<p>如果想得到杂化能带的投影，请使用253、254、255；<br>确保以下关于输出信息的参数在 <code>INCAR</code> 中。<code>LORBIT = 10</code>和<code>LORBIT = 11</code> 。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">253) Get Projected Band-Structure for Selected Atoms</span><br><span class="line">254) Get Projected Band-Structure for Each ELement</span><br><span class="line">255) Get the Sum of Projected Band-Structure for Selected Atoms</span><br></pre></td></tr></table></figure>
<p>例如，你可以通过 <code>253</code> 功能进行自由格式输入，你可以输入任意原子的序号和元素符号，对于每一个原子的投影能带将会一个个输出出来。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">  --&gt;&gt; (01) Reading Input Parameters From INCAR File...</span><br><span class="line">  --&gt;&gt; (02) Reading Fermi-Energy from DOSCAR File...</span><br><span class="line"> ooooooooo The Fermi Energy will be set to zero eV ooooooooooooooo</span><br><span class="line">  --&gt;&gt; (03) Reading Structural Parameters from POSCAR File...</span><br><span class="line">  --&gt;&gt; (04) Reading Energy-Levels From EIGENVAL File...</span><br><span class="line">  --&gt;&gt; (05) Reading Band-Weights From PROCAR File...</span><br><span class="line">  --&gt;&gt; (06) Reading K-Paths From KPATH.in File...</span><br><span class="line"> |---------------------------------------------------------------|</span><br><span class="line"> Input the element-symbol and/or atom-index to SUM [Total-atom: 3]</span><br><span class="line"> (Free Format is OK, e.g., C Fe H 1-4 7 8 24)</span><br><span class="line"></span><br><span class="line"> ------------&gt;&gt;</span><br><span class="line">1-3</span><br><span class="line">  --&gt;&gt; (07) Written SELECTED_ATOM_LIST File!</span><br><span class="line">  --&gt;&gt; (08) Written PBAND_A1.dat File!</span><br><span class="line">  --&gt;&gt; (09) Written PBAND_A2.dat File!</span><br><span class="line">  --&gt;&gt; (10) Written PBAND_A3.dat File!</span><br><span class="line">  --&gt;&gt; (11) Written KLINES.dat File!</span><br><span class="line">  --&gt;&gt; (12) Written KLABELS File!</span><br></pre></td></tr></table></figure>
<p>元素投影能带可以通过 <code>254</code> 得到，</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">254</span><br><span class="line">  --&gt;&gt; (01) Reading Input Parameters From INCAR File...</span><br><span class="line">  --&gt;&gt; (02) Reading Fermi-Energy from DOSCAR File...</span><br><span class="line"> ooooooooo The Fermi Energy will be set to zero eV ooooooooooooooo</span><br><span class="line">  --&gt;&gt; (03) Reading Structural Parameters from POSCAR File...</span><br><span class="line">  --&gt;&gt; (04) Reading Energy-Levels From EIGENVAL File...</span><br><span class="line">  --&gt;&gt; (05) Reading Band-Weights From PROCAR File...</span><br><span class="line">  --&gt;&gt; (06) Reading K-Paths From KPATH.in File...</span><br><span class="line">  --&gt;&gt; (07) Written PBAND_S.dat File!</span><br><span class="line">  --&gt;&gt; (08) Written PBAND_Mo.dat File!</span><br><span class="line">  --&gt;&gt; (09) Written KLINES.dat File!</span><br><span class="line">  --&gt;&gt; (10) Written KLABELS File!</span><br></pre></td></tr></table></figure>
<p>使用 <code>255</code> 得到你输入的原子的投影能带的加和：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">255</span><br><span class="line"></span><br><span class="line">  --&gt;&gt; (01) Reading Input Parameters From INCAR File...</span><br><span class="line">  --&gt;&gt; (02) Reading Fermi-Energy from DOSCAR File...</span><br><span class="line"> ooooooooo The Fermi Energy will be set to zero eV ooooooooooooooo</span><br><span class="line">  --&gt;&gt; (03) Reading Structural Parameters from POSCAR File...</span><br><span class="line">  --&gt;&gt; (04) Reading Energy-Levels From EIGENVAL File...</span><br><span class="line">  --&gt;&gt; (05) Reading Band-Weights From PROCAR File...</span><br><span class="line">  --&gt;&gt; (06) Reading K-Paths From KPATH.in File...</span><br><span class="line"> |---------------------------------------------------------------|</span><br><span class="line"> Input the element-symbol and/or atom-index to SUM [Total-atom: 3]</span><br><span class="line"> (Free Format is OK, e.g., C Fe H 1-4 7 8 24)</span><br><span class="line"></span><br><span class="line"> ------------&gt;&gt;</span><br><span class="line">1-2</span><br><span class="line">  --&gt;&gt; (07) Written SELECTED_ATOM_LIST File!</span><br><span class="line">  --&gt;&gt; (08) Written PBAND_SUM.dat File!</span><br><span class="line">  --&gt;&gt; (09) Written KLINES.dat File!</span><br><span class="line">  --&gt;&gt; (10) Written KLABELS File!</span><br></pre></td></tr></table></figure>
<p>补充：能带也可以使用 <code>pymatgen</code> 软件包得到。</p>
<p><img src="https://raw.githubusercontent.com/shuai0511/blog-img/main/1-3"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/posts/0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Hengshuai Shang">
      <meta itemprop="description" content="study">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hengshuai Shang">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/posts/0/" class="post-title-link" itemprop="url">vaspkit-tutorials（Band Structure）</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2023-09-04 21:59:57 / 修改时间：10:53:00" itemprop="dateCreated datePublished" datetime="2023-09-04T21:59:57+08:00">2023-09-04</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/vaspkit/" itemprop="url" rel="index"><span itemprop="name">vaspkit</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/posts/0/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/posts/0/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <hr>
<h1 id="vaspkit-tutorials（Band-Structure）"><a href="#vaspkit-tutorials（Band-Structure）" class="headerlink" title="vaspkit-tutorials（Band Structure）"></a>vaspkit-tutorials（Band Structure）</h1><p>vaspkit是一个针对于vasp计算能带很好的前处理和后处理软件。</p>
<h2 id="能带计算的预处理"><a href="#能带计算的预处理" class="headerlink" title="能带计算的预处理"></a>能带计算的预处理</h2><p>为了进行能带的计算，你必须准备一个原胞（ <code>primitive cell</code> ）和一些沿着不可约布里渊区的 <code>K</code> 点路径（ <code>K-path</code> ）。<br>例如，对于常见的 <code>FCC</code> 晶胞，其不可约布里渊区和高对称点。<br><img src="https://raw.githubusercontent.com/shuai0511/blog-img/main/01.png"><br>典型的 <code>BCC</code> 晶胞，其不可约布里渊区和高对称点的分布如下：<br><img src="https://raw.githubusercontent.com/shuai0511/blog-img/main/02.png"><br>    <code>K-path</code> 并不奇特，通常来说，他并不必选择所有的高对称点之间的连线，只需要选择那些具有代表性并且重要的以线性模式被写入 <code>K-POINTS</code> ，对于大规模的计算，我们必须有一个从结构信息定义 <code>K</code> 点路径的方式。<code>pymatgen</code> 和 <code>seeK-path</code> 仅仅提供了 <code>3D</code> 系统的路径解决方案。而 <code>vaspkit</code> 提供的一个工具基于一个系统的规则可以为1维、2维、3维材料生成 <code>K</code> 点路径。<br>    这是2维材料的布里渊区<a target="_blank" rel="noopener" href="https://arxiv.org/abs/1806.04285">V. Wang, Y.-Y. Liang, Y. Kawazeo, W.-T. Geng, High-Throughput Computational Screening of Two-Dimensional Semiconductors, arXiv:1806.04285.</a>)<br><img src="https://raw.githubusercontent.com/shuai0511/blog-img/main/03.png"><br>通过 <code>pymatgen</code> 自动产生 <code>K</code>点路径的方法见 <code>pymatgen</code>（<a target="_blank" rel="noopener" href="https://pymatgen.org/">https://pymatgen.org/</a>）,Computational Materials Science 49 (2010) 299–312. seek-path（<a target="_blank" rel="noopener" href="https://www.materialscloud.org/work/tools/seekpath">https://www.materialscloud.org/work/tools/seekpath</a>）Computational Materials Science 128 (2017) 140–184.</p>
<h2 id="Example-Single-layer-MoS2"><a href="#Example-Single-layer-MoS2" class="headerlink" title="Example: Single-layer MoS2"></a>Example: Single-layer MoS2</h2><p>不包括自旋轨道耦合和自旋极化的单层<code>MoS2</code> 的能带。<br>1、准备MoS2的 <code>POSCAR</code> 文件<br>    因为 <code>vaspkit</code> 自动生成 <code>K</code> 点路径基于标准的原胞，所以第一步先标准化原胞。对于二维材料：确保二维材料的 <code>z</code> 轴中心在 <code>|c|/2</code> 处。（例如： <code>Z</code> 轴的分数坐标设置为0.5.）。这个可以使用 <code>vaspkit</code> 的 <code>921</code> 和 <code>923</code> , <code>vasp</code> 923 功能针对标准的二维晶胞。（i） 在 <code>Z</code> 轴设置真空层，（ii）把二维材料放在<code>Z</code> 轴中心。<br>    对于三维材料，使用 <code>vaspkit</code> 的 <code>602</code> 功能去产生一个标准原胞，名字文件为 <code>PRIMCELL.vasp</code>, 然后代替原来的 <code>POSCAR</code> , 这是二维材料MoS2的 <code>POSCAR</code> 文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">MoS2</span><br><span class="line">1.0</span><br><span class="line">        3.1659998894         0.0000000000         0.0000000000</span><br><span class="line">       -1.5829999447         2.7418363326         0.0000000000</span><br><span class="line">        0.0000000000         0.0000000000        18.4099998474</span><br><span class="line">    S   Mo</span><br><span class="line">    2    1</span><br><span class="line">Direct</span><br><span class="line">     0.000000000         0.000000000         0.413899988</span><br><span class="line">     0.000000000         0.000000000         0.586099982</span><br><span class="line">     0.666666687         0.333333343         0.500000000</span><br><span class="line"></span><br><span class="line">92</span><br><span class="line"> +-------------------------- Warm Tips --------------------------+</span><br><span class="line">             Please Use These Features with CAUTION!</span><br><span class="line"> +---------------------------------------------------------------+</span><br><span class="line"> ===================== 2D Materials Toolkit ======================</span><br><span class="line"> 921) Center Aomic-Layer along z direction</span><br><span class="line"> 922) Resize Vacuum Thickness</span><br><span class="line"> 923) Standardize 2D Crystal Cell</span><br><span class="line"> 926) Elastic Constants for 2D Materials</span><br><span class="line"> 927) Valence and Conduction Band Edges Referenced to Vacuum Level</span><br><span class="line"> 929) Summary for Relaxed 2D Structure</span><br><span class="line"></span><br><span class="line"> 0)   Quit</span><br><span class="line"> 9)   Back</span><br><span class="line"> ------------&gt;&gt;</span><br><span class="line">923</span><br><span class="line"> --&gt;&gt; (1) Reading Structural Parameters from POSCAR File...</span><br><span class="line"> --&gt;&gt; (2) Written POSCAR_NEW File!</span><br></pre></td></tr></table></figure>
<p>做结构优化，然后做单电自洽计算去得到 <code>CHGCAR</code> .<br>在一个新的文件中运行 <code>vaspkit</code> 的 <code>302</code> ，得到一个二维的 <code>K-path</code> 文件。（<strong>Note:请检查空间群</strong>）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vaspkit 运行302 功能的代码</span><br></pre></td></tr></table></figure>
<p><code>KPATH.in</code> 该文件包括线性模型的 <code>K=path</code> 并将其复制为 <code>KPOINTS</code> ，其中自动生成的路径中包括20个交叉部分。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp KPATH.in KPOINTS</span><br></pre></td></tr></table></figure>
<p><code>HIGH_SYMMETRY_POINTS</code> : 包括所有的高对称点信息。<strong>vaspkit不保证k点路径的正确性，请将结果与seeK-path的结果进行比较（<a target="_blank" rel="noopener" href="https://www.materialscloud.org/work/tools/seekpath">https://www.materialscloud.org/work/tools/seekpath</a>）</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">High-symmetry points (in fractional coordinates). You can check them with the seekpath database [https://www.materialscloud.org/work/tools/seekpath].</span><br><span class="line">   0.0000000000   0.0000000000   0.0000000000     GAMMA</span><br><span class="line">   0.3333333333   0.3333333333   0.0000000000     K</span><br><span class="line">   0.5000000000   0.0000000000   0.0000000000     M</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">If you use this module, please cite the following work:</span><br><span class="line">[1] V. Wang, N. Xu, J.-C. Liu, G. Tang, W.-T. Geng, VASPKIT: A User-friendly Interface Facilitating High-throughput Computing and Analysis Using VASP Code, Computer Physics Communications 267, 108033 (2021).</span><br><span class="line">[2] V. Wang, Y.-Y. Liang, Y. Kawazeo, W.-T. Geng, High-Throughput Computational Screening of Two-Dimensional Semiconductors, arXiv:1806.04285.</span><br></pre></td></tr></table></figure>
<p>从单点计算文件中读取 <code>CHGCAR</code> 并提交 <code>vasp</code> 的能带计算任务。<br>INCAR 例子</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">##### initial I/O #####</span><br><span class="line">SYSTEM = MoS2</span><br><span class="line">ICHARG = 11</span><br><span class="line">LWAVE = .TRUE.</span><br><span class="line">LCHARG = .TRUE.</span><br><span class="line">LVTOT = .FALSE.</span><br><span class="line">LVHAR = .FALSE.</span><br><span class="line">LELF = .FALSE.</span><br><span class="line">LORBIT = 11</span><br><span class="line">NEDOS = 1000</span><br><span class="line"></span><br><span class="line">##### SCF #####</span><br><span class="line">ENCUT = 500</span><br><span class="line">ISMEAR = 0</span><br><span class="line">SIGMA = 0.05</span><br><span class="line">EDIFF = 1E-6</span><br><span class="line">NELMIN = 5</span><br><span class="line">NELM = 300</span><br><span class="line">GGA = PE</span><br><span class="line">LREAL = .FALSE.</span><br><span class="line">PREC = Accurate</span><br></pre></td></tr></table></figure>
<p>能带后处理软件（纯泛函）<br>计算之后，使用  <code>vaspkit</code> 的 <code>21</code> 进行能带后处理。<br>使用 <code>211</code> 得到基本能带结构，如果你有带有 <code>matplotlib</code> 模块的 <code>python</code> 环境，<code>vaspkit</code> 会输出自动输出一个 <code>band.png</code> 图像通过自动将费米能级移至 <code>0eV</code> .</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">211</span><br><span class="line">  --&gt;&gt; (01) Reading Input Parameters From INCAR File...</span><br><span class="line">  --&gt;&gt; (02) Reading Fermi-Energy from DOSCAR File...</span><br><span class="line"> ooooooooo The Fermi Energy will be set to zero eV ooooooooooooooo</span><br><span class="line">  --&gt;&gt; (03) Reading Energy-Levels From EIGENVAL File...</span><br><span class="line">  --&gt;&gt; (04) Reading Structural Parameters from POSCAR File...</span><br><span class="line">  --&gt;&gt; (05) Reading K-Paths From KPOINTS File...</span><br><span class="line">  --&gt;&gt; (06) Written BAND.dat File!</span><br><span class="line">  --&gt;&gt; (07) Written BAND_REFORMATTED.dat File!</span><br><span class="line">  --&gt;&gt; (08) Written KLINES.dat File!</span><br><span class="line">  --&gt;&gt; (09) Written KLABELS File!</span><br><span class="line">  --&gt;&gt; (10) Written BAND_GAP File!</span><br><span class="line"> If you want use the default setting, type 0, if modity type 1</span><br><span class="line">0</span><br><span class="line">/public1/home/pg2059/.local/lib/python2.7/site-packages/matplotlib/font_manager.py:1328: UserWarning: findfont: Font family [u&#x27;arial&#x27;] not found. Falling back to DejaVu Sans</span><br><span class="line">  (prop.get_family(), self.defaultFamily[fontext]))</span><br><span class="line">  --&gt;&gt; (11) Graph has been generated!</span><br></pre></td></tr></table></figure>
<p>会输出以下文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BAND.dat，BAND_REFORMATTED.dat，KLINES.dat，KLABELS，BAND_GAP</span><br></pre></td></tr></table></figure>
<p><code>BAND.dat</code>，<code>BAND_REFORMATTED.dat</code> 文件包含了能带信息，该文件尽可以被 <code>origin</code> 软件打开。<br><code>BAND_REFORMATTED.dat</code> ：第一行是 <code>K-path</code> 的长度，其单位为 Å-1，后面几行是每一个波段的能量。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#K-Path     Energy-Level</span><br><span class="line">  0.000   -14.278   -13.063    -5.798    -2.813    -2.813    -1.962    -1.693    ...</span><br><span class="line">  0.060   -14.268   -13.058    -5.787    -2.836    -2.802    -2.055    -1.710    ...</span><br><span class="line">  0.120   -14.239   -13.044    -5.752    -2.906    -2.769    -2.226    -1.761    ...</span><br><span class="line">  0.180   -14.190   -13.021    -5.695    -3.015    -2.716    -2.416    -1.840    ...</span><br><span class="line">  0.240   -14.123   -12.989    -5.619    -3.157    -2.642    -2.614    -1.943    ...</span><br><span class="line">  0.300   -14.039   -12.948    -5.528    -3.321    -2.817    -2.551    -2.064    ...</span><br><span class="line">  0.360   -13.938   -12.900    -5.428    -3.496    -3.023    -2.443    -2.195    ...</span><br><span class="line">  0.420   -13.823   -12.846    -5.329    -3.671    -3.232    -2.333    -2.322    ...</span><br><span class="line">  0.480   -13.696   -12.786    -5.244    -3.830    -3.441    -2.471    -2.190    ...</span><br></pre></td></tr></table></figure>
<p><code>KLABELS</code> ：保存了能到结构图中的高对称点信息。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">K-Label    K-Coordinate in band-structure plots</span><br><span class="line">GAMMA              0.000</span><br><span class="line">M                  1.140</span><br><span class="line">K                  1.798</span><br><span class="line">GAMMA              3.114</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">* Give the label for each high symmetry point in KPOINTS (KPATH.in) file. Otherwise, they will be identified as &#x27;Undefined or XX&#x27; in KLABELS file</span><br></pre></td></tr></table></figure>
<p><strong>Note：确保你已经对vasp的KPOINTS文件中的每一个高对称点赋予了一个标签。</strong><br><code>BAND_GAP</code> :该文件保存了能带间隔（带隙）、价带顶、导带底以及它在倒易晶格中的位置的信息。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">+-------------------------- Summary ----------------------------+</span><br><span class="line">         Band Character:    Direct</span><br><span class="line">          Band Gap (eV):    1.6743</span><br><span class="line"> Eigenvalue of VBM (eV):   -0.2257</span><br><span class="line"> Eigenvalue of CBM (eV):    1.4485</span><br><span class="line">      HOMO &amp; LUMO Bands:         9        10</span><br><span class="line">        Location of VBM:  0.333333  0.333333  0.000000</span><br><span class="line">        Location of CBM:  0.333333  0.333333  0.000000</span><br><span class="line">+---------------------------------------------------------------+</span><br><span class="line"></span><br><span class="line">NOTE: The VBM and CBM are subtracted by the Fermi Energy.</span><br></pre></td></tr></table></figure>
<p>如果用户有附带 <code>matplotlib</code> 模块的 <code>python</code> 环境，<code>vaspkit</code> 会自动输出图像文件： <code>BAND.png</code> 。</p>
<p><img src="https://github.com/shuai0511/blog-img/blob/main/4.png"><br><img src="/img%20src=%22https:/raw.githubusercontent.com/shuai0511/blog-img/main/04.png%22/"><br><img src="https://raw.githubusercontent.com/shuai0511/blog-img/main/04.png"><br><strong>212，213，214可以得到投影能带结构</strong><br>确保在 <code>INCAR</code> 的输出信息中你添加了<code>LORBIT = 10</code> 或者 <code>LORBIT = 11</code> 参数<br>212）得到选定原子的投影能带<br>通过原子编号 <code>1-4</code> <code>7</code> <code>8</code> <code>24</code> 或者元素符号 <code>C</code> <code>Fe</code> <code>H</code> 来选定原子。<br>如果你想得到1和2号原子的投影能带，请输入 <code>1-2</code> 。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">212</span><br><span class="line">  --&gt;&gt; (01) Reading Input Parameters From INCAR File...</span><br><span class="line">  --&gt;&gt; (02) Reading Fermi-Energy from DOSCAR File...</span><br><span class="line"> ooooooooo The Fermi Energy will be set to zero eV ooooooooooooooo</span><br><span class="line">  --&gt;&gt; (03) Reading Structural Parameters from POSCAR File...</span><br><span class="line">  --&gt;&gt; (04) Reading Energy-Levels From EIGENVAL File...</span><br><span class="line">  --&gt;&gt; (05) Reading Band-Weights From PROCAR File...</span><br><span class="line">  --&gt;&gt; (06) Reading K-Paths From KPOINTS File...</span><br><span class="line"> |---------------------------------------------------------------|</span><br><span class="line"> Input the element-symbol and/or atom-index to SUM [Total-atom: 3]</span><br><span class="line"> (Free Format is OK, e.g., C Fe H 1-4 7 8 24)</span><br><span class="line"></span><br><span class="line"> ------------&gt;&gt;</span><br><span class="line">1-2</span><br><span class="line">  --&gt;&gt; (07) Written SELECTED_ATOM_LIST File!</span><br><span class="line">  --&gt;&gt; (08) Written PBAND_A1.dat File!</span><br><span class="line">  --&gt;&gt; (09) Written PBAND_A2.dat File!</span><br><span class="line">  --&gt;&gt; (10) Written KLINES.dat File!</span><br><span class="line">  --&gt;&gt; (11) Written KLABELS File!</span><br></pre></td></tr></table></figure>
<p><code>vaspkit</code> 会输出两个文件：<code>PBAND_A1.dat</code> 和<code>PBAND_A2.dat</code> 。每一个文件均包括选定原子的投影信息，以及他在每一个角动量上所占的比重：包括 <code>s py pz px dxy dyz dz2 dxz dx2-y2 tot</code> 。第一行是 <code>K-path</code> 的长度，其单位为 Å-1，第二行是能带的能量，后面几行是能带在每一个（li-orbitals）轨道上的投影。最后一行是选定原子在在这条能带上的总投影。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">#K-Path    Energy     s     py     pz     px    dxy    dyz    dz2    dxz  x2-y2    tot</span><br><span class="line">#Band-index    1</span><br><span class="line">   0.000   -14.278  0.275  0.000  0.005  0.000  0.000  0.000  0.000  0.000  0.000  0.281</span><br><span class="line">   0.060   -14.268  0.276  0.000  0.005  0.000  0.000  0.000  0.000  0.000  0.000  0.281</span><br><span class="line">   0.120   -14.239  0.276  0.000  0.005  0.000  0.000  0.000  0.000  0.000  0.000  0.281</span><br><span class="line">   0.180   -14.190  0.277  0.000  0.005  0.000  0.000  0.000  0.000  0.000  0.000  0.282</span><br><span class="line">   0.240   -14.123  0.278  0.000  0.005  0.000  0.000  0.000  0.000  0.000  0.000  0.284</span><br><span class="line">   0.300   -14.039  0.280  0.000  0.005  0.001  0.000  0.000  0.000  0.000  0.000  0.285</span><br><span class="line">   0.360   -13.938  0.281  0.000  0.005  0.001  0.000  0.000  0.000  0.000  0.000  0.288</span><br><span class="line">   0.420   -13.823  0.283  0.000  0.005  0.001  0.000  0.000  0.000  0.000  0.000  0.290</span><br><span class="line">   ...</span><br><span class="line">#Band-index    2</span><br><span class="line">   3.114   -13.063  0.315  0.000  0.000  0.000  0.000  0.000  0.000  0.000  0.000  0.316</span><br><span class="line">   3.045   -13.056  0.315  0.000  0.000  0.000  0.000  0.000  0.000  0.000  0.000  0.316</span><br><span class="line">   ...</span><br><span class="line">#Band-index    3</span><br><span class="line">   0.000    -5.798  0.018  0.000  0.125  0.000  0.000  0.000  0.000  0.000  0.000  0.143</span><br><span class="line">   0.060    -5.787  0.018  0.000  0.125  0.000  0.000  0.000  0.000  0.000  0.000  0.143</span><br><span class="line">   ...</span><br></pre></td></tr></table></figure>
<p><strong>213）每一个元素的投影态密度</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">213</span><br><span class="line"> --&gt;&gt; (1) Reading Input Parameters From INCAR File...</span><br><span class="line"> --&gt;&gt; (2) Reading Fermi-Level From DOSCAR File...</span><br><span class="line"> ooooooooo The Fermi Energy will be set to zero eV ooooooooooooooo</span><br><span class="line"> --&gt;&gt; (3) Reading Structural Parameters from POSCAR File...</span><br><span class="line"> --&gt;&gt; (4) Reading Energy-Levels From EIGENVAL File...</span><br><span class="line"> --&gt;&gt; (5) Reading Band-Weights From PROCAR File...</span><br><span class="line"> --&gt;&gt; (6) Reading K-Paths From KPOINTS File...</span><br><span class="line"> --&gt;&gt; (7) Written PBAND_S.dat File!</span><br><span class="line"> --&gt;&gt; (8) Written PBAND_Mo.dat File!</span><br><span class="line"> --&gt;&gt; (9) Written KLINES.dat File!</span><br><span class="line"> --&gt;&gt; (*) Written KLABELS File!</span><br></pre></td></tr></table></figure>
<p><code>PBAND_S.dat</code> 和 <code>PBAND_Mo.dat</code> 的类型和 <code>PBAND_A1.dat</code> 一致，三者均可以使用 <code>origin</code> 打开。<code>origin</code> 的绘图详见***origin绘制能带结构图 。</p>
<p>214）选定原子的投影能带之和</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">214</span><br><span class="line">  --&gt;&gt; (01) Reading Input Parameters From INCAR File...</span><br><span class="line">  --&gt;&gt; (02) Reading Fermi-Energy from DOSCAR File...</span><br><span class="line"> ooooooooo The Fermi Energy will be set to zero eV ooooooooooooooo</span><br><span class="line">  --&gt;&gt; (03) Reading Structural Parameters from POSCAR File...</span><br><span class="line">  --&gt;&gt; (04) Reading Energy-Levels From EIGENVAL File...</span><br><span class="line">  --&gt;&gt; (05) Reading Band-Weights From PROCAR File...</span><br><span class="line">  --&gt;&gt; (06) Reading K-Paths From KPOINTS File...</span><br><span class="line"> |---------------------------------------------------------------|</span><br><span class="line"> Input the element-symbol and/or atom-index to SUM [Total-atom: 3]</span><br><span class="line"> (Free Format is OK, e.g., C Fe H 1-4 7 8 24)</span><br><span class="line"></span><br><span class="line"> ------------&gt;&gt;</span><br><span class="line">1-2</span><br><span class="line">  --&gt;&gt; (07) Written SELECTED_ATOM_LIST File!</span><br><span class="line">  --&gt;&gt; (08) Written PBAND_SUM.dat File!</span><br><span class="line">  --&gt;&gt; (09) Written KLINES.dat File!</span><br><span class="line">  --&gt;&gt; (10) Written KLABELS File!</span><br></pre></td></tr></table></figure>
<p>输出文件 <code>PBAND_SUM.dat</code> 中选定原子或元素的投影能带之和，这对于研究分层能带（layered band ） 、比较表面能带和内能带的区别时比较有用。</p>
<h3 id="Single-shot（单次片段）-Band-Structue"><a href="#Single-shot（单次片段）-Band-Structue" class="headerlink" title="Single-shot（单次片段） Band Structue"></a>Single-shot（单次片段） Band Structue</h3><p><code>vasp6.3.0</code> 或者更新的版本支持通过 <code>single-shot</code> 计算能带结构，如果我们在编译 <code>vasp</code> 的时候没有在 <code>makefile.include</code> 文件中的 <code>CPP_OPTIONS</code> 的后面添加 <code>-DVASP_HDF5</code> 参数，他将不会输出 <code>PROCAR_OPT</code> 文件。<br>如果我们修改 <code>vasp6.3.0/src/liner_response.F</code> 重新编译 <code>vasp</code> 之后可以自动产生 <code>PROCAR_OPT</code> 和 <code>EIGENVAL_OPT</code> (新添加的)。首先，我们需要删除 <code>vasp6.3.0/src/liner_response.F</code> 文件中的 <code>1804~1827</code> 行。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">#ifdef VASP_HDF5</span><br><span class="line">   CALL VH5_WRITE_DOS(IH5OUTFILEID, WDES_INTER, KPOINTS_INTER, DOS, DOSI, DOSPAR, EFERMI, &amp;</span><br><span class="line">                      T_INFO%NIONP, -1,SUBGROUP=&quot;electron_dos_kpoints_opt&quot;)</span><br><span class="line">   CALL VH5_WRITE_EIGENVAL(IH5OUTFILEID, WDES_INTER, W_INTER, KPOINTS_INTER, &amp;</span><br><span class="line">                           SUBGROUP=&quot;electron_eigenvalues_kpoints_opt&quot;)</span><br><span class="line"></span><br><span class="line">   ! Write projections</span><br><span class="line">   IF (JOBPAR/=0 .OR. IO%LORBIT&gt;=10) THEN</span><br><span class="line">     IF (IO%LORBIT==11.OR.IO%LORBIT==12) THEN</span><br><span class="line">       CALL VH5_WRITE_PROJECTORS(IH5OUTFILEID, T_INFO, WDES_INTER, W_INTER, IO%LORBIT, LPAR, PAR_INTER, LMCHAR, PHAS_INTER, &amp;</span><br><span class="line">                                 SUBGROUP=&quot;projectors_kpoints_opt&quot;)</span><br><span class="line">     ELSE</span><br><span class="line">       CALL VH5_WRITE_PROJECTORS(IH5OUTFILEID, T_INFO, WDES_INTER, W_INTER, IO%LORBIT, LPAR, PAR_INTER, LCHAR, PHAS_INTER, &amp;</span><br><span class="line">                                 SUBGROUP=&quot;projectors_kpoints_opt&quot;)</span><br><span class="line">     ENDIF</span><br><span class="line">     IF (IO%IU6&gt;=0) THEN</span><br><span class="line">       CALL XML_PROCAR(PAR, W_INTER%CELTOT, W_INTER%FERTOT, WDES_INTER%NB_TOT, WDES_INTER%NKPTS, LPAR,&amp;</span><br><span class="line">                     T_INFO%NIONP, WDES_INTER%NCDIJ, TAG=&quot;projected_kpoints_opt&quot;)</span><br><span class="line">       OPEN(UNIT=99,FILE=&#x27;PROCAR_OPT&#x27;,STATUS=&#x27;UNKNOWN&#x27;)</span><br><span class="line">       CALL WRITE_PROCAR(99,W_INTER,WDES_INTER,IO%LORBIT,LPAR,LMDIMP,PAR_INTER,PHAS_INTER,T_INFO,KPOINTS%EMIN,KPOINTS%EMAX)</span><br><span class="line">       CLOSE(99)</span><br><span class="line">     ENDIF</span><br><span class="line">   ENDIF</span><br><span class="line">#endif</span><br></pre></td></tr></table></figure>
<p>然后添加以下代码：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">!  Added support to VASPKIT</span><br><span class="line">   OPEN(UNIT=99,FILE=&#x27;EIGENVAL_OPT&#x27;,STATUS=&#x27;UNKNOWN&#x27;)</span><br><span class="line">   WRITE(99,&#x27;(4I5)&#x27;) T_INFO%NIONS,T_INFO%NIONS,0.0,WDES_INTER%ISPIN</span><br><span class="line">   WRITE(99,&#x27;(5E15.7)&#x27;) 0.d0,0.d0,0.d0,0.d0,0.d0</span><br><span class="line">   WRITE(99,&#x27;(1E15.7)&#x27;) 0.d0</span><br><span class="line">   WRITE(99,*) &#x27; CAR &#x27;</span><br><span class="line">   WRITE(99,*) INFO%SZNAM1</span><br><span class="line">   WRITE(99,&#x27;(3I7)&#x27;) NINT(INFO%NELECT),WDES_INTER%NKPTS,WDES_INTER%NB_TOT</span><br><span class="line">   DO IK=1,WDES_INTER%NKPTS</span><br><span class="line">      WRITE(99,*)</span><br><span class="line">      WRITE(99,&#x27;((4E15.7))&#x27;) WDES_INTER%VKPT(1,IK),WDES_INTER%VKPT(2,IK),WDES_INTER%VKPT(3,IK),WDES_INTER%WTKPT(IK)</span><br><span class="line">      DO I=1,WDES_INTER%NB_TOT</span><br><span class="line">         IF (WDES_INTER%ISPIN==1) WRITE(99,852) I,REAL( W_INTER%CELTOT(I,IK,1) ,KIND=q),W%FERTOT(I,IK,1)</span><br><span class="line">         IF (WDES_INTER%ISPIN==2) WRITE(99,853) I,(REAL( W_INTER%CELTOT(I,IK,ISP) ,KIND=q),ISP=1,WDES_INTER%ISPIN),(W%FERTOT(I,IK,ISP),ISP=1,WDES_INTER%ISPIN)</span><br><span class="line">      ENDDO</span><br><span class="line">   ENDDO</span><br><span class="line">   CLOSE(99)</span><br><span class="line">   852 FORMAT(1X,I6,4X,F14.6,2X,F9.6)</span><br><span class="line">   853 FORMAT(1X,I6,4X,F14.6,2X,F14.6,2X,F9.6,2X,F9.6)</span><br><span class="line">   IF (JOBPAR/=0 .OR. IO%LORBIT&gt;=10) THEN</span><br><span class="line">     IF (IO%IU6&gt;=0) THEN</span><br><span class="line">       CALL XML_PROCAR(PAR, W_INTER%CELTOT, W_INTER%FERTOT, WDES_INTER%NB_TOT, WDES_INTER%NKPTS, LPAR,&amp;</span><br><span class="line">                     T_INFO%NIONP, WDES_INTER%NCDIJ, TAG=&quot;projected_kpoints_opt&quot;)</span><br><span class="line">       OPEN(UNIT=99,FILE=&#x27;PROCAR_OPT&#x27;,STATUS=&#x27;UNKNOWN&#x27;)</span><br><span class="line">       CALL WRITE_PROCAR(99,W_INTER,WDES_INTER,IO%LORBIT,LPAR,LMDIMP,PAR_INTER,PHAS_INTER,T_INFO,KPOINTS%EMIN,KPOINTS%EMAX)</span><br><span class="line">       CLOSE(99)</span><br><span class="line">     ENDIF</span><br><span class="line">   ENDIF</span><br><span class="line"></span><br><span class="line">#ifdef VASP_HDF5</span><br><span class="line">   CALL VH5_WRITE_DOS(IH5OUTFILEID, WDES_INTER, KPOINTS_INTER, DOS, DOSI, DOSPAR, EFERMI, &amp;</span><br><span class="line">                      T_INFO%NIONP, -1,SUBGROUP=&quot;electron_dos_kpoints_opt&quot;)</span><br><span class="line">   CALL VH5_WRITE_EIGENVAL(IH5OUTFILEID, WDES_INTER, W_INTER, KPOINTS_INTER, &amp;</span><br><span class="line">                           SUBGROUP=&quot;electron_eigenvalues_kpoints_opt&quot;)</span><br><span class="line"></span><br><span class="line">   ! Write projections</span><br><span class="line">   IF (JOBPAR/=0 .OR. IO%LORBIT&gt;=10) THEN</span><br><span class="line">     IF (IO%LORBIT==11.OR.IO%LORBIT==12) THEN</span><br><span class="line">       CALL VH5_WRITE_PROJECTORS(IH5OUTFILEID, T_INFO, WDES_INTER, W_INTER, IO%LORBIT, LPAR, PAR_INTER, LMCHAR, PHAS_INTER, &amp;</span><br><span class="line">                                 SUBGROUP=&quot;projectors_kpoints_opt&quot;)</span><br><span class="line">     ELSE</span><br><span class="line">       CALL VH5_WRITE_PROJECTORS(IH5OUTFILEID, T_INFO, WDES_INTER, W_INTER, IO%LORBIT, LPAR, PAR_INTER, LCHAR, PHAS_INTER, &amp;</span><br><span class="line">                                 SUBGROUP=&quot;projectors_kpoints_opt&quot;)</span><br><span class="line">     ENDIF</span><br><span class="line">!     IF (IO%IU6&gt;=0) THEN</span><br><span class="line">!       CALL XML_PROCAR(PAR, W_INTER%CELTOT, W_INTER%FERTOT, WDES_INTER%NB_TOT, WDES_INTER%NKPTS, LPAR,&amp;</span><br><span class="line">!                     T_INFO%NIONP, WDES_INTER%NCDIJ, TAG=&quot;projected_kpoints_opt&quot;)</span><br><span class="line">!       OPEN(UNIT=99,FILE=&#x27;PROCAR_OPT&#x27;,STATUS=&#x27;UNKNOWN&#x27;)</span><br><span class="line">!       CALL WRITE_PROCAR(99,W_INTER,WDES_INTER,IO%LORBIT,LPAR,LMDIMP,PAR_INTER,PHAS_INTER,T_INFO,KPOINTS%EMIN,KPOINTS%EMAX)</span><br><span class="line">!       CLOSE(99)</span><br><span class="line">!     ENDIF</span><br><span class="line">   ENDIF</span><br><span class="line">#endif</span><br></pre></td></tr></table></figure>
<p>最后重复编译 <code>vasp</code> ，<code>vaspkit1.3.2</code> 或者更新的版本可以从 <code>EIGENVAL_OPT</code> 和 <code>PROCAR_OPT</code>文件中读取普通和投影能带的数据。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/posts/b9df750d/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Hengshuai Shang">
      <meta itemprop="description" content="study">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hengshuai Shang">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/posts/b9df750d/" class="post-title-link" itemprop="url">vaspkit-教程翻译（input）</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2023-08-30 21:57:57 / 修改时间：22:23:35" itemprop="dateCreated datePublished" datetime="2023-08-30T21:57:57+08:00">2023-08-30</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/vaspkit/" itemprop="url" rel="index"><span itemprop="name">vaspkit</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/posts/b9df750d/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/posts/b9df750d/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="vaspkit英文版教程-译"><a href="#vaspkit英文版教程-译" class="headerlink" title="vaspkit英文版教程-译"></a>vaspkit英文版教程-译</h1><h2 id="教程"><a href="#教程" class="headerlink" title="教程"></a>教程</h2><p>该教程作为一个完整的输入仅提供常见输入示例，不保证科学性和精度，一些参数需要使用者自己修改。</p>
<h2 id="快速开始"><a href="#快速开始" class="headerlink" title="快速开始"></a>快速开始</h2><h3 id="你可以启动的方式"><a href="#你可以启动的方式" class="headerlink" title="你可以启动的方式"></a>你可以启动的方式</h3><p>使用vaspkit至少有五种方式，在这里我们以产生K点文件（102）为例进行演示。</p>
<ul>
<li><p>1、在终端中键入<code>vaspkit</code>启动；</p>
</li>
<li><p>2、<code>vaspkit -task 102 -kpr 0.04</code> 使用2π × 0.04 Å<sup>-1</sup>的倒空间方案产生K点，使用<code>vasplit - help</code>获得更多细节，<strong>请注意该功能还未被支持。</strong>；</p>
</li>
<li><p>3、 使用命令：<code>echo -e &quot;102\n2\n0.04\n&quot;| vaspkit</code>;</p>
</li>
<li><p>4、使用命令： <code>(echo 102; echo 2; echo 0.04)|vaspkit</code>;</p>
</li>
<li><p>5、编辑一个filename的文本文件，里面需要包括以下内容</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">102</span><br><span class="line">2</span><br><span class="line">0.04</span><br></pre></td></tr></table></figure>

<p>然后运行以下命令：<code>vaspkit filename</code> 。</p>
<h3 id="批处理模式运行-vaspkit"><a href="#批处理模式运行-vaspkit" class="headerlink" title="批处理模式运行 vaspkit"></a>批处理模式运行 <code>vaspkit</code></h3><p>如果你想以批处理模式运行 <code>vaspkit</code> ，例如你想在一些子文件夹中使用 <code>vaspkit</code> 产生KPOINTS，</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">for i in `ls`</span><br><span class="line">do echo $&#123;i&#125;</span><br><span class="line">    cd $&#123;i&#125;</span><br><span class="line">    echo -e &quot;102\n2\n0.04&quot; | vaspkit </span><br><span class="line">    # vaspkit -task 102 -file POSCAR -kpr 0.04</span><br><span class="line">    # 因为在上述运行的五种方式中方式2目前还不支持，我们用方式3来代替该命令。</span><br><span class="line">    cd ..</span><br><span class="line">done</span><br></pre></td></tr></table></figure>
<p>此为这种结构下产生KPOINTS的批处理命令</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">lianxi</span><br><span class="line">├── 01</span><br><span class="line">│   ├── INCAR</span><br><span class="line">│   ├── POSCAR</span><br><span class="line">│   └── Si.cif</span><br><span class="line">├── 02</span><br><span class="line">│   ├── INCAR</span><br><span class="line">│   ├── POSCAR</span><br><span class="line">└── 03</span><br><span class="line">│   ├── INCAR</span><br><span class="line">│   ├── POSCAR</span><br></pre></td></tr></table></figure>

<p>因此我们就可以在根文件夹下运行上述批处理命令：屏幕显示这样：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br></pre></td><td class="code"><pre><span class="line">01</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            \\\///</span><br><span class="line">           / _  _ \         Hey, you must know what you are doing.</span><br><span class="line">         (| (o)(o) |)       Otherwise you might get wrong results.</span><br><span class="line"> +-----.OOOo--()--oOOO.------------------------------------------+</span><br><span class="line"> |         VASPKIT Standard Edition 1.3.5 (03 Jul. 2022)         |</span><br><span class="line"> |         Core Developer: Vei WANG (wangvei@icloud.com)         |</span><br><span class="line"> |     Main Contributors: Nan XU, Jin-Cheng LIU &amp; Gang TANG      |</span><br><span class="line"> |  Online Tutorials Available on Website: https://vaspkit.com   |</span><br><span class="line"> +-----.oooO-----------------------------------------------------+</span><br><span class="line">        (   )   Oooo.                          VASPKIT Made Simple</span><br><span class="line">         \ (    (   )</span><br><span class="line">          \_)    ) /</span><br><span class="line">                (_/</span><br><span class="line"> ===================== Structural Utilities ======================</span><br><span class="line"> 1)  VASP Input-Files Kit          2)  Mechanical Properties</span><br><span class="line"> 3)  K-Path for Band-Structure     4)  Structure Editor</span><br><span class="line"> 5)  Catalysis-ElectroChem Kit     6)  Symmetry Analysis</span><br><span class="line"> 8)  Advanced Structure Models</span><br><span class="line"> ===================== Electronic Utilities ======================</span><br><span class="line"> 11) Density-of-States             21) Band-Structure</span><br><span class="line"> 23) 3D Band-Structure             25) Hybrid-DFT Band-Structure</span><br><span class="line"> 26) Fermi-Surface                 28) Band-Structure Unfolding</span><br><span class="line"> 31) Charge-Density Analysis       42) Potential Analysis</span><br><span class="line"> 51) Wave-Function Analysis        62) Magnetic Properties</span><br><span class="line"> 65) Spin-Texture                  68) Transport Properties</span><br><span class="line"> ======================== Misc Utilities =========================</span><br><span class="line"> 71) Optical Properties            72) Molecular-Dynamics Kit</span><br><span class="line"> 74) User Interface                78) VASP2other Interface</span><br><span class="line"> 91) Semiconductor Kit             92) 2D-Material Kit</span><br><span class="line"> 0)  Quit</span><br><span class="line"> ------------&gt;&gt;</span><br><span class="line"> ======================== K-Mesh Scheme ==========================</span><br><span class="line"> 1) Monkhorst-Pack Scheme</span><br><span class="line"> 2) Gamma Scheme</span><br><span class="line"> 3) Irreducible K-Points with Gamma Scheme</span><br><span class="line"></span><br><span class="line"> 0)   Quit</span><br><span class="line"> 9)   Back</span><br><span class="line"> -------------&gt;&gt;</span><br><span class="line"> --&gt;&gt; (01) Reading Structural Parameters from POSCAR File...</span><br><span class="line"> +-------------------------- Warm Tips --------------------------+</span><br><span class="line">   * Accuracy Levels: Gamma-Only: 0;</span><br><span class="line">                      Low: 0.06~0.04;</span><br><span class="line">                      Medium: 0.04~0.03;</span><br><span class="line">                      Fine: 0.02-0.01.</span><br><span class="line">   * 0.03-0.04 is Generally Precise Enough!</span><br><span class="line"> +---------------------------------------------------------------+</span><br><span class="line"> Input Kmesh-Resolved Value (in Units of 2*PI/Angstrom):</span><br><span class="line"> ------------&gt;&gt;</span><br><span class="line"> +-------------------------- Summary ----------------------------+</span><br><span class="line"> Reciprocal Lattice Vectors (in Units of 1/Angstrom):</span><br><span class="line">       1.1569752163       0.0000000000       0.0000000000</span><br><span class="line">       0.0000000000       1.1569752163       0.0000000000</span><br><span class="line">       0.0000000000       0.0000000000       1.1569752163</span><br><span class="line"> Reciprocal Lattice Constants:   1.1570   1.1570   1.1570</span><br><span class="line"> Real-Space Lattice Constants:   5.4307   5.4307   5.4307</span><br><span class="line"> K-Mesh Size:    5    5    5</span><br><span class="line"> +---------------------------------------------------------------+</span><br><span class="line"> --&gt;&gt; (02) Written KPOINTS File!</span><br><span class="line"> +---------------------------------------------------------------+</span><br><span class="line"> |                       * ACKNOWLEDGMENTS *                     |</span><br><span class="line"> | Other Contributors (in no particular order): Peng-Fei LIU,    |</span><br><span class="line"> | Xue-Fei LIU, Dao-Xiong WU, Zhao-Fu ZHANG, Tian WANG, Qiang LI,|</span><br><span class="line"> | Ya-Chao LIU, Jiang-Shan ZHAO, Qi-Jing ZHENG, Yue QIU and You! |</span><br><span class="line"> | Advisors: Wen-Tong GENG, Yoshiyuki KAWAZOE                    |</span><br><span class="line"> | Any Suggestions for Improvement are Welcome and Appreciated!  |</span><br><span class="line"> +---------------------------------------------------------------+</span><br><span class="line"> |                          * CITATIONS *                        |</span><br><span class="line"> | When using VASPKIT in your research PLEASE cite the paper:    |</span><br><span class="line"> | [1] V. WANG, N. XU, J.-C. LIU, G. TANG, W.-T. GENG, VASPKIT: A|</span><br><span class="line"> | User-Friendly Interface Facilitating High-Throughput Computing|</span><br><span class="line"> | and Analysis Using VASP Code, Computer Physics Communications |</span><br><span class="line"> | 267, 108033, (2021), DOI: 10.1016/j.cpc.2021.108033           |</span><br><span class="line"> +---------------------------------------------------------------+</span><br><span class="line">02</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            \\\///</span><br><span class="line">           / _  _ \         Hey, you must know what you are doing.</span><br><span class="line">         (| (o)(o) |)       Otherwise you might get wrong results.</span><br><span class="line"> +-----.OOOo--()--oOOO.------------------------------------------+</span><br><span class="line"> |         VASPKIT Standard Edition 1.3.5 (03 Jul. 2022)         |</span><br><span class="line"> |         Core Developer: Vei WANG (wangvei@icloud.com)         |</span><br><span class="line"> |     Main Contributors: Nan XU, Jin-Cheng LIU &amp; Gang TANG      |</span><br><span class="line"> |  Online Tutorials Available on Website: https://vaspkit.com   |</span><br><span class="line"> +-----.oooO-----------------------------------------------------+</span><br><span class="line">        (   )   Oooo.                          VASPKIT Made Simple</span><br><span class="line">         \ (    (   )</span><br><span class="line">          \_)    ) /</span><br><span class="line">                (_/</span><br><span class="line"> ===================== Structural Utilities ======================</span><br><span class="line"> 1)  VASP Input-Files Kit          2)  Mechanical Properties</span><br><span class="line"> 3)  K-Path for Band-Structure     4)  Structure Editor</span><br><span class="line"> 5)  Catalysis-ElectroChem Kit     6)  Symmetry Analysis</span><br><span class="line"> 8)  Advanced Structure Models</span><br><span class="line"> ===================== Electronic Utilities ======================</span><br><span class="line"> 11) Density-of-States             21) Band-Structure</span><br><span class="line"> 23) 3D Band-Structure             25) Hybrid-DFT Band-Structure</span><br><span class="line"> 26) Fermi-Surface                 28) Band-Structure Unfolding</span><br><span class="line"> 31) Charge-Density Analysis       42) Potential Analysis</span><br><span class="line"> 51) Wave-Function Analysis        62) Magnetic Properties</span><br><span class="line"> 65) Spin-Texture                  68) Transport Properties</span><br><span class="line"> ======================== Misc Utilities =========================</span><br><span class="line"> 71) Optical Properties            72) Molecular-Dynamics Kit</span><br><span class="line"> 74) User Interface                78) VASP2other Interface</span><br><span class="line"> 91) Semiconductor Kit             92) 2D-Material Kit</span><br><span class="line"> 0)  Quit</span><br><span class="line"> ------------&gt;&gt;</span><br><span class="line"> ======================== K-Mesh Scheme ==========================</span><br><span class="line"> 1) Monkhorst-Pack Scheme</span><br><span class="line"> 2) Gamma Scheme</span><br><span class="line"> 3) Irreducible K-Points with Gamma Scheme</span><br><span class="line"></span><br><span class="line"> 0)   Quit</span><br><span class="line"> 9)   Back</span><br><span class="line"> -------------&gt;&gt;</span><br><span class="line"> --&gt;&gt; (01) Reading Structural Parameters from POSCAR File...</span><br><span class="line"> +-------------------------- Warm Tips --------------------------+</span><br><span class="line">   * Accuracy Levels: Gamma-Only: 0;</span><br><span class="line">                      Low: 0.06~0.04;</span><br><span class="line">                      Medium: 0.04~0.03;</span><br><span class="line">                      Fine: 0.02-0.01.</span><br><span class="line">   * 0.03-0.04 is Generally Precise Enough!</span><br><span class="line"> +---------------------------------------------------------------+</span><br><span class="line"> Input Kmesh-Resolved Value (in Units of 2*PI/Angstrom):</span><br><span class="line"> ------------&gt;&gt;</span><br><span class="line"> +-------------------------- Summary ----------------------------+</span><br><span class="line"> Reciprocal Lattice Vectors (in Units of 1/Angstrom):</span><br><span class="line">       1.1569752163       0.0000000000       0.0000000000</span><br><span class="line">       0.0000000000       1.1569752163       0.0000000000</span><br><span class="line">       0.0000000000       0.0000000000       1.1569752163</span><br><span class="line"> Reciprocal Lattice Constants:   1.1570   1.1570   1.1570</span><br><span class="line"> Real-Space Lattice Constants:   5.4307   5.4307   5.4307</span><br><span class="line"> K-Mesh Size:    5    5    5</span><br><span class="line"> +---------------------------------------------------------------+</span><br><span class="line"> --&gt;&gt; (02) Written KPOINTS File!</span><br><span class="line"> --&gt;&gt; (03) Written INCAR file!</span><br><span class="line"> +-------------------------- Summary ----------------------------+</span><br><span class="line"> POTCAR Type: PBE</span><br><span class="line"> Number of Elements: 1</span><br><span class="line"> POTCAR File No.1: [ POTCAR_Si ], Valence Electron: 4.0</span><br><span class="line"> Total Atoms: 8</span><br><span class="line"> Total Valence Electrons: 32.0</span><br><span class="line"> +---------------------------------------------------------------+</span><br><span class="line"> --&gt;&gt; (04) Written POTCAR File with the Recommended Potential!</span><br><span class="line"> +---------------------------------------------------------------+</span><br><span class="line"> |                       * ACKNOWLEDGMENTS *                     |</span><br><span class="line"> | Other Contributors (in no particular order): Peng-Fei LIU,    |</span><br><span class="line"> | Xue-Fei LIU, Dao-Xiong WU, Zhao-Fu ZHANG, Tian WANG, Qiang LI,|</span><br><span class="line"> | Ya-Chao LIU, Jiang-Shan ZHAO, Qi-Jing ZHENG, Yue QIU and You! |</span><br><span class="line"> | Advisors: Wen-Tong GENG, Yoshiyuki KAWAZOE                    |</span><br><span class="line"> | Any Suggestions for Improvement are Welcome and Appreciated!  |</span><br><span class="line"> +---------------------------------------------------------------+</span><br><span class="line"> |                          * CITATIONS *                        |</span><br><span class="line"> | When using VASPKIT in your research PLEASE cite the paper:    |</span><br><span class="line"> | [1] V. WANG, N. XU, J.-C. LIU, G. TANG, W.-T. GENG, VASPKIT: A|</span><br><span class="line"> | User-Friendly Interface Facilitating High-Throughput Computing|</span><br><span class="line"> | and Analysis Using VASP Code, Computer Physics Communications |</span><br><span class="line"> | 267, 108033, (2021), DOI: 10.1016/j.cpc.2021.108033           |</span><br><span class="line"> +---------------------------------------------------------------+</span><br><span class="line">03</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            \\\///</span><br><span class="line">           / _  _ \         Hey, you must know what you are doing.</span><br><span class="line">         (| (o)(o) |)       Otherwise you might get wrong results.</span><br><span class="line"> +-----.OOOo--()--oOOO.------------------------------------------+</span><br><span class="line"> |         VASPKIT Standard Edition 1.3.5 (03 Jul. 2022)         |</span><br><span class="line"> |         Core Developer: Vei WANG (wangvei@icloud.com)         |</span><br><span class="line"> |     Main Contributors: Nan XU, Jin-Cheng LIU &amp; Gang TANG      |</span><br><span class="line"> |  Online Tutorials Available on Website: https://vaspkit.com   |</span><br><span class="line"> +-----.oooO-----------------------------------------------------+</span><br><span class="line">        (   )   Oooo.                          VASPKIT Made Simple</span><br><span class="line">         \ (    (   )</span><br><span class="line">          \_)    ) /</span><br><span class="line">                (_/</span><br><span class="line"> ===================== Structural Utilities ======================</span><br><span class="line"> 1)  VASP Input-Files Kit          2)  Mechanical Properties</span><br><span class="line"> 3)  K-Path for Band-Structure     4)  Structure Editor</span><br><span class="line"> 5)  Catalysis-ElectroChem Kit     6)  Symmetry Analysis</span><br><span class="line"> 8)  Advanced Structure Models</span><br><span class="line"> ===================== Electronic Utilities ======================</span><br><span class="line"> 11) Density-of-States             21) Band-Structure</span><br><span class="line"> 23) 3D Band-Structure             25) Hybrid-DFT Band-Structure</span><br><span class="line"> 26) Fermi-Surface                 28) Band-Structure Unfolding</span><br><span class="line"> 31) Charge-Density Analysis       42) Potential Analysis</span><br><span class="line"> 51) Wave-Function Analysis        62) Magnetic Properties</span><br><span class="line"> 65) Spin-Texture                  68) Transport Properties</span><br><span class="line"> ======================== Misc Utilities =========================</span><br><span class="line"> 71) Optical Properties            72) Molecular-Dynamics Kit</span><br><span class="line"> 74) User Interface                78) VASP2other Interface</span><br><span class="line"> 91) Semiconductor Kit             92) 2D-Material Kit</span><br><span class="line"> 0)  Quit</span><br><span class="line"> ------------&gt;&gt;</span><br><span class="line"> ======================== K-Mesh Scheme ==========================</span><br><span class="line"> 1) Monkhorst-Pack Scheme</span><br><span class="line"> 2) Gamma Scheme</span><br><span class="line"> 3) Irreducible K-Points with Gamma Scheme</span><br><span class="line"></span><br><span class="line"> 0)   Quit</span><br><span class="line"> 9)   Back</span><br><span class="line"> -------------&gt;&gt;</span><br><span class="line"> --&gt;&gt; (01) Reading Structural Parameters from POSCAR File...</span><br><span class="line"> +-------------------------- Warm Tips --------------------------+</span><br><span class="line">   * Accuracy Levels: Gamma-Only: 0;</span><br><span class="line">                      Low: 0.06~0.04;</span><br><span class="line">                      Medium: 0.04~0.03;</span><br><span class="line">                      Fine: 0.02-0.01.</span><br><span class="line">   * 0.03-0.04 is Generally Precise Enough!</span><br><span class="line"> +---------------------------------------------------------------+</span><br><span class="line"> Input Kmesh-Resolved Value (in Units of 2*PI/Angstrom):</span><br><span class="line"> ------------&gt;&gt;</span><br><span class="line"> +-------------------------- Summary ----------------------------+</span><br><span class="line"> Reciprocal Lattice Vectors (in Units of 1/Angstrom):</span><br><span class="line">       1.1569752163       0.0000000000       0.0000000000</span><br><span class="line">       0.0000000000       1.1569752163       0.0000000000</span><br><span class="line">       0.0000000000       0.0000000000       1.1569752163</span><br><span class="line"> Reciprocal Lattice Constants:   1.1570   1.1570   1.1570</span><br><span class="line"> Real-Space Lattice Constants:   5.4307   5.4307   5.4307</span><br><span class="line"> K-Mesh Size:    5    5    5</span><br><span class="line"> +---------------------------------------------------------------+</span><br><span class="line"> --&gt;&gt; (02) Written KPOINTS File!</span><br><span class="line"> --&gt;&gt; (03) Written INCAR file!</span><br><span class="line"> +-------------------------- Summary ----------------------------+</span><br><span class="line"> POTCAR Type: PBE</span><br><span class="line"> Number of Elements: 1</span><br><span class="line"> POTCAR File No.1: [ POTCAR_Si ], Valence Electron: 4.0</span><br><span class="line"> Total Atoms: 8</span><br><span class="line"> Total Valence Electrons: 32.0</span><br><span class="line"> +---------------------------------------------------------------+</span><br><span class="line"> --&gt;&gt; (04) Written POTCAR File with the Recommended Potential!</span><br><span class="line"> +---------------------------------------------------------------+</span><br><span class="line"> |                       * ACKNOWLEDGMENTS *                     |</span><br><span class="line"> | Other Contributors (in no particular order): Peng-Fei LIU,    |</span><br><span class="line"> | Xue-Fei LIU, Dao-Xiong WU, Zhao-Fu ZHANG, Tian WANG, Qiang LI,|</span><br><span class="line"> | Ya-Chao LIU, Jiang-Shan ZHAO, Qi-Jing ZHENG, Yue QIU and You! |</span><br><span class="line"> | Advisors: Wen-Tong GENG, Yoshiyuki KAWAZOE                    |</span><br><span class="line"> | Any Suggestions for Improvement are Welcome and Appreciated!  |</span><br><span class="line"> +---------------------------------------------------------------+</span><br><span class="line"> |                          * CITATIONS *                        |</span><br><span class="line"> | When using VASPKIT in your research PLEASE cite the paper:    |</span><br><span class="line"> | [1] V. WANG, N. XU, J.-C. LIU, G. TANG, W.-T. GENG, VASPKIT: A|</span><br><span class="line"> | User-Friendly Interface Facilitating High-Throughput Computing|</span><br><span class="line"> | and Analysis Using VASP Code, Computer Physics Communications |</span><br><span class="line"> | 267, 108033, (2021), DOI: 10.1016/j.cpc.2021.108033           |</span><br><span class="line"> +---------------------------------------------------------------+</span><br></pre></td></tr></table></figure>
<p>最后文件拓扑为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">lianxi/</span><br><span class="line">├── 01</span><br><span class="line">│   ├── INCAR</span><br><span class="line">│   ├── KPOINTS</span><br><span class="line">│   ├── POSCAR</span><br><span class="line">│   ├── POTCAR</span><br><span class="line">│   └── Si.cif</span><br><span class="line">├── 02</span><br><span class="line">│   ├── INCAR</span><br><span class="line">│   ├── KPOINTS</span><br><span class="line">│   ├── POSCAR</span><br><span class="line">│   └── POTCAR</span><br><span class="line">└── 03</span><br><span class="line">    ├── INCAR</span><br><span class="line">    ├── KPOINTS</span><br><span class="line">    ├── POSCAR</span><br><span class="line">    └── POTCAR</span><br></pre></td></tr></table></figure>
<p>使用 <code>echo -e &quot;102\n2\n0.04&quot; | vaspkit</code> 运行 <code>vaspkit</code> 意味着在 <code>vaspkit</code> 中键入  <code>102，2，0.04</code>  。<br>如果你想得到其他的物理性质，也可以通过批处理命令来实现，比如得到子文件夹中的带隙：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># 代码已测试，另本人已修改</span><br><span class="line"># 适用版本如下：</span><br><span class="line"># VASPKIT Standard Edition 1.3.5 (03 Jul. 2022)</span><br><span class="line">for i in `ls`</span><br><span class="line">do echo $&#123;i&#125;</span><br><span class="line">    cd $&#123;i&#125;</span><br><span class="line">    echo -e &quot;911\n&quot; | vaspkit | sed -n &#x27;45p&#x27; | awk &#x27;&#123;print $4&#125;&#x27;</span><br><span class="line">    cd ..</span><br><span class="line">done</span><br></pre></td></tr></table></figure>
<h3 id="生成INPUT文件"><a href="#生成INPUT文件" class="headerlink" title="生成INPUT文件"></a>生成INPUT文件</h3><p>为了运行 <code>vasp</code> 你需要四个输入文件，即 <code>INCAR、KPOINTS、POSCAR、POTCAR</code>.</p>
<ul>
<li>1、<code>INCAR</code> 包括所有的关键词，主要是告诉 <code>vasp</code> 计算什么内容。</li>
<li>2、<code>KPOINTS</code> 他可以包括在 <code>INCAR</code> 中，但是不建议省略。它包括倒空间中的K点信息，用于插值计算波函数获得电子密度。</li>
<li>3、<code>POSCAR</code> 包括晶格常数，原子笛卡尔坐标（或分数坐标），原子速度信息（用于分子动力学计算）。</li>
<li>4、<code>POTCAR</code> 是一个赝势文件，可以是超软赝势（USPP）或者投影缀加平面波(PAW)。<br>运行 <code>vaspkit 1</code> :</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">==================== VASP Input Files Options ===================</span><br><span class="line"> 101) Customize INCAR File</span><br><span class="line"> 102) Generate KPOINTS File for SCF Calculation</span><br><span class="line"> 103) Generate POTCAR File with Default Setting</span><br><span class="line"> 104) Generate POTCAR File with User Specified Potential</span><br><span class="line"> 105) Generate POSCAR File from cif (no fractional occupations)</span><br><span class="line"> 106) Generate POSCAR File from Material Studio xsd (retain fixes)</span><br><span class="line"> 107) Reformat POSCAR File in Specified Order of Elements</span><br><span class="line"> 108) Successive Procedure to Generate VASP Files and Check</span><br><span class="line"> 109) Submit Job Queue</span><br></pre></td></tr></table></figure>

<h3 id="生成INCAR"><a href="#生成INCAR" class="headerlink" title="生成INCAR"></a>生成INCAR</h3><p>在包含 <code>POSCAR</code> 的文件夹中运行 <code>vaspkit</code> ，然后输入 <code>1</code> 选择要生成的 <code>vasp</code> 输入文件类型，然后键入 <code>101</code> 进入自定义选择 <code>INCAR</code> 类型，你将得到以下视图：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">+-------------------------- Warm Tips --------------------------+</span><br><span class="line">                You MUST Know What You Are doing</span><br><span class="line">  Some Parameters in INCAR File Neet To Be Set/Adjusted Manually</span><br><span class="line"> +---------------------------------------------------------------+</span><br><span class="line"> ======================== INCAR Options ==========================</span><br><span class="line"> ST) Static-Calculation            SR) Standard Relaxation</span><br><span class="line"> MG) Magnetic Properties           SO) Spin-Orbit Coupling</span><br><span class="line"> D3) DFT-D3 no-damping Correction  H6) HSE06 Calculation</span><br><span class="line"> PU) DFT+U Calculation             MD) Molecular Dynamics</span><br><span class="line"> GW) GW0 Calculation               BS) BSE Calculation</span><br><span class="line"> DC) Elastic Constant              EL) ELF Calculation</span><br><span class="line"> BD) Bader Charge Analysis         OP) Optical Properties</span><br><span class="line"> EC) Static Dielectric Constant    PC) Decomposed Charge Density</span><br><span class="line"> FD) Phonon-Finite-Displacement    DT) Phonon-DFPT</span><br><span class="line"> NE) Nudged Elastic Band (NEB)     DM) The Dimer Method</span><br><span class="line"> FQ) Frequence Calculations        LR) Lattice Relaxation</span><br></pre></td></tr></table></figure>

<p>键入特定任务的关键词，将会生成包含相关关键词的 <code>INCAR</code> 文件。<br>例如，你要使用杂化泛函计算带有DFT-D3色散矫正的单点任务，那么你可以键入 <code>STH6D3</code> 。<br>例如键入  <code>LR</code> ，将会得到一个具有详细晶格弛豫参数的 <code>INCAR</code> ：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">Global Parameters</span><br><span class="line">ISTART =  1            (Read existing wavefunction, if there)</span><br><span class="line">ISPIN  =  1            (Non-Spin polarised DFT)</span><br><span class="line"># ICHARG =  11         (Non-self-consistent: GGA/LDA band structures)</span><br><span class="line">LREAL  = .FALSE.       (Projection operators: automatic)</span><br><span class="line"># ENCUT  =  400        (Cut-off energy for plane wave basis set, in eV)</span><br><span class="line"># PREC   =  Accurate   (Precision level: Normal or Accurate, set Accurate when perform structure lattice relaxation calculation)</span><br><span class="line">LWAVE  = .TRUE.        (Write WAVECAR or not)</span><br><span class="line">LCHARG = .TRUE.        (Write CHGCAR or not)</span><br><span class="line">ADDGRID= .TRUE.        (Increase grid, helps GGA convergence)</span><br><span class="line"># LVTOT  = .TRUE.      (Write total electrostatic potential into LOCPOT or not)</span><br><span class="line"># LVHAR  = .TRUE.      (Write ionic + Hartree electrostatic potential into LOCPOT or not)</span><br><span class="line"># NELECT =             (No. of electrons: charged cells, be careful)</span><br><span class="line"># LPLANE = .TRUE.      (Real space distribution, supercells)</span><br><span class="line"># NWRITE = 2           (Medium-level output)</span><br><span class="line"># KPAR   = 2           (Divides k-grid into separate groups)</span><br><span class="line"># NGXF    = 300        (FFT grid mesh density for nice charge/potential plots)</span><br><span class="line"># NGYF    = 300        (FFT grid mesh density for nice charge/potential plots)</span><br><span class="line"># NGZF    = 300        (FFT grid mesh density for nice charge/potential plots)</span><br><span class="line"></span><br><span class="line">Lattice Relaxation</span><br><span class="line">NSW    =  300          (number of ionic steps)</span><br><span class="line">ISMEAR =  0            (gaussian smearing method )</span><br><span class="line">SIGMA  =  0.05         (please check the width of the smearing)</span><br><span class="line">IBRION =  2            (Algorithm: 0-MD, 1-Quasi-New, 2-CG)</span><br><span class="line">ISIF   =  3            (optimize atomic coordinates and lattice parameters)</span><br><span class="line">EDIFFG = -1.5E-02      (Ionic convergence, eV/A)</span><br><span class="line">PREC   =  Accurate     (Precision level)</span><br></pre></td></tr></table></figure>
<p>如果您是一个老司机，想要得到更加干净的 <code>INCAR</code> 文件，可以修改 <code>~/.vaspkit</code> 中的 <code>MINI_INCAR</code> 选项，将其设置为 <code>.TRUE.</code> ，这样生成的用于晶格弛豫计算的 <code>INCAR</code> 将会是：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Global Parameters</span><br><span class="line">  ISTART = 1</span><br><span class="line">  LREAL = Auto</span><br><span class="line">  PREC = Normal</span><br><span class="line">  LWAVE = .TRUE.</span><br><span class="line">  LCHARG = .TRUE.</span><br><span class="line">  ADDGRID= .TRUE.</span><br><span class="line"></span><br><span class="line">Lattice Relaxation</span><br><span class="line">  NSW = 300</span><br><span class="line">  ISMEAR = 0</span><br><span class="line">  SIGMA = 0.05</span><br><span class="line">  IBRION = 2</span><br><span class="line">  ISIF = 3</span><br><span class="line">  EDIFFG = -1.5E-02</span><br><span class="line">  PREC = Accurat</span><br></pre></td></tr></table></figure>
<p>使用者仍然可以按照他们的需要修改新生成的输入文件中的参数。</p>
<blockquote>
<p>**Notes:<br>如果你的文件中本来由一个 <code>INCAR</code> ，您仍然使用 <code>vaspkit</code> 生成 <code>INCAR</code> ,则原来的 <code>INCAR</code> 文件将会被自动覆盖；您可以通过简单修改   <code>~/.vaspkit</code> 中的 <code>SET_INCAR_WRITE_MODE</code> 选项来修改 <code>INCAR</code> 的输出选项；具体参数如下：<br><code>OVERRICE</code> : <code>新的内容添加到原来的</code>INCAR<code> 之后</code> ;<br><code>APPEND</code>  : <code>新生成的内容添加到旧的 </code>INCAR<code> 之后</code> ;<br><code>BACK-UP-OLD</code> : <code>备份新的 </code>INCAR<code>;</code>BACK-UP-NEW<code>: </code>将新生成的 <code>INCAR</code> 作为使用的 <code>INCAR</code> 。</p>
</blockquote>
<h3 id="生成K点文件"><a href="#生成K点文件" class="headerlink" title="生成K点文件"></a>生成K点文件</h3><p>为了自洽运算，用户需要准备一个特定密度和自动产生 <code>K</code> 点方法的 <code>KPOINTS</code> 文件。<br>如果当前文件夹中已有 <code>POSCAR</code> ，则 <code>vaspkit</code> 可以根据已经存在的  <code>POSCAR</code> 文件自动生成  <code>KPOINTS</code> 文件。运行 <code>vaspkit</code> 的选项 <code>1) VASP Input Files Generator</code> ，然后键入 <code>102</code> 生成自洽循环的  <code>KPOINTS</code> 文件，然后根据以下展示的信息选择 <code>K-mesh</code> 方案：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">======================== K-Mesh Scheme ==========================</span><br><span class="line">1) Monkhorst-Pack Scheme</span><br><span class="line">2) Gamma Scheme</span><br><span class="line">3) Irreducible K-Points with Gamma Scheme</span><br><span class="line"></span><br><span class="line">0)   Quit</span><br><span class="line">9)   Back</span><br><span class="line">-------------&gt;&gt;</span><br></pre></td></tr></table></figure>
<p>键入 <code>1</code> 选择原始的 <code>Monkhorst-Pack</code> 方案；<br>键入 <code>2</code> 选择以 <code>Gamma</code> 为中心的 <code>Monkhorst-Pack</code> 方案。<br>接着， <code>vaspkit</code> 将会要求我们在倒空间中输入 <code>K-POINTS</code> 之间 <code>KPT</code> 的解析值，单位为 2π×0.04Å<sup>−1</sup> 。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">2</span><br><span class="line">  --&gt;&gt; (01) Reading Structural Parameters from POSCAR File...</span><br><span class="line"> +-------------------------- Warm Tips --------------------------+</span><br><span class="line"></span><br><span class="line"> * Accuracy Levels: Gamma-Only: 0;</span><br><span class="line">    Low: 0.06~0.04;</span><br><span class="line">    Medium: 0.04~0.03;</span><br><span class="line">    Fine: 0.02-0.01.</span><br><span class="line"> * 0.03-0.04 is Generally Precise Enough!</span><br><span class="line">   +---------------------------------------------------------------+</span><br><span class="line">    Input KPT-Resolved Value (e.g., 0.04, in unit of 2*PI/Angstrom):</span><br><span class="line">    ------------&gt;&gt;</span><br></pre></td></tr></table></figure>
<p><code>K-POINTS</code> 的数量随着 <code> KPT-resolved value (kpr)</code> 的减少；如果 <code> KPT-resolved value (kpr)</code> 增加则 <code>K-POINTS</code> 的数量减少。对于每一个方向，数量由 N &#x3D; max(1,|b<sub>i</sub>|&#x2F;kpr) 决定，b<sub>i</sub>是倒晶格的格矢，其值将舍入到下一个大于或等于 <code>N</code> 的整数，对于大多数系统来说，这个值取 <code>0.04</code> 已经足够了，这个参数像 <code>INCAR</code> 中的 <code>KSPACING</code> ，但是他们的单位不同， <code>KSACING</code> 的单位是 Å<sup>−1</sup>，而 <code>vaspkit</code>  的单位是 2π × 0.04 Å<sup>−1</sup>。<br>输出的 <code>KPOINTS</code> 文件的第一行是用户定义的 <code>KPT</code> 的解析值：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">K-Mesh Generated with KP-Resolved Value (...): 0.020</span><br><span class="line">0</span><br><span class="line">Gamma</span><br><span class="line">  14  14  14</span><br><span class="line">0.0  0.0  0.0</span><br></pre></td></tr></table></figure>
<h3 id="生成POTCAR"><a href="#生成POTCAR" class="headerlink" title="生成POTCAR"></a>生成POTCAR</h3><p>当用 <code>vaspkit</code> 产生 <code>KPOINTS</code> 时，将会自动产生 <code>POSCAR</code> 对应的 <code>POTCAR</code> 文件，或者用 <code>vaspkit</code> 的 <code>103</code> 功能产生。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">103</span><br><span class="line">  --&gt;&gt; (01) Reading Structural Parameters from POSCAR File...</span><br><span class="line">  --&gt;&gt; (02) Written POTCAR File with the Standard Potential!</span><br></pre></td></tr></table></figure>
<p>它自动从 <code>POSCAR</code> 中读取元素并从你在 <code>~/.vaspkit</code> 中设置的赝势库中选择对应的赝势写入 <code>POTCAR</code> 中。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">GGA_PATH                 &#x27;~/POTCAR/GGA&#x27;     #  Path of GGA potential.</span><br><span class="line">PBE_PATH                 &#x27;~/POTCAR/PBE&#x27;     #  Path of PBE potential.</span><br><span class="line">LDA_PATH                 &#x27;~/POTCAR/LDA&#x27;     #  Path of LDA potential.</span><br><span class="line">POTCAR_TYPE               PBE               #  PBE, GGA or LDA;</span><br><span class="line">RECOMMENDED_POTCAR       .TRUE.             # .TRUE. or .FALSE.;</span><br></pre></td></tr></table></figure>
<p>设置你所想用的赝势类型，可选项为：<code>LDA、GGA、PBE</code> ，选项 <code>RECOMMENDED_POTCAR</code> 控制你是否需要使用 <code>vasp</code> 手册中推荐的赝势类型(Page. 195, 2018.10.29, <a target="_blank" rel="noopener" href="http://cms.mpi.univie.ac.at/vasp/vasp/Recommended_PAW_potentials_DFT_calculations_using_vasp_5_2.html">http://cms.mpi.univie.ac.at/vasp/vasp/Recommended_PAW_potentials_DFT_calculations_using_vasp_5_2.html</a>)。<br>如果该选项为 <code>False</code> ，那么将使用没有扩展的赝势使用；如果该选项为 <code>True</code> ，那么将使用手册推荐的赝势类型。<br>**赝势类型：</p>
<ul>
<li>无扩展的， “ _ ”   ；</li>
<li><code>_d</code>, 将d的半核当作价层处理 ；</li>
<li><code>_pv</code> or <code>_sv</code> ，将_p和__s_半核状态被视为价态 ；</li>
<li><code>_h</code> and <code>_s</code> ， 电位比标准电位更硬或更软，因此需要更高或更低的截断能量 ；</li>
<li>赝势氢原子：<code>H_5</code> ；</li>
<li><code>_GW</code> , 用于 <code>GW</code>  计算 。<br>如果你想产生用于 <code>GW</code> 计算的 <code>POTCAR</code> 文件，只需要将 <code>~/.vaspkit</code> 中的 <code>GW_POTCAR</code> 选项设置为 <code>True</code> 即可：<br><code>GW_POTCAR                .TRUE.            # .TRUE. or .FALSE.;</code><br><code>vaspkit</code> 也提供手动为每一个元素类型设置 <code>POTCAR</code> ，可以通过 <code>104</code> 选项实现。</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">104</span><br><span class="line"> --&gt;&gt; (1) Reading Structural Parameters from POSCAR File...</span><br><span class="line"> Auto detected POTCAR_TYPE is O, please type the one you want!</span><br><span class="line">O_h</span><br><span class="line"> Auto detected POTCAR_TYPE is Ti, please type the one you want!</span><br><span class="line">Ti_sv</span><br><span class="line"> --&gt;&gt; (2) Written POTCAR File with user specified Potential!</span><br></pre></td></tr></table></figure>
<p>比如在这个例子中，用户要为 <code>Ti</code> 和 <code>O</code> 选择赝势为 <code>Ti</code> 和 <code>O</code> ，因为不在数据库中，<code>vaspkit</code> 将会智能提示你重新输入 <code>Ti_sv</code> 和 <code>O_h</code> 。</p>
<h3 id="生成POSCAR"><a href="#生成POSCAR" class="headerlink" title="生成POSCAR"></a>生成POSCAR</h3><p><code>vaspkit</code> 可以通过 <code>.cif</code> [105功能] 和 <code>.xsd</code> (materials studio 文件类型)[106功能]来生成 <code>POSCAR</code> 。<br><code>105</code> 功能将唤醒脚本 <code>/vaspkit.1.00/utilities/cif2pos.py</code> 。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">105</span><br><span class="line"> Please type in the filename of cif-&gt;</span><br><span class="line">al2o3.cif</span><br><span class="line">Pleas input the order of element, `ENTER` for default!</span><br><span class="line">Example: &#x27;Al O&#x27; in this CIF</span><br><span class="line"></span><br><span class="line">  --&gt;&gt; (01) POSCAR has been generated...</span><br></pre></td></tr></table></figure>
<p><code>106</code> 将会运行脚本<code>/vaspkit.1.00/utilities/xsd2pos.py</code> ,该脚本能够自动识别 <code>.xsd</code> 中的原子固定信息并正确转化为具有正确固定原子信息的 <code>POSCAR</code> 。<br><code>107</code> 功能可以按照用户指定的元素种类顺序重新排列元素：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">107</span><br><span class="line"> --&gt;&gt; (01) Reading Structural Parameters from POSCAR File...</span><br><span class="line"> Please Type the New Order of Elements to Sort.</span><br><span class="line"> (Tip: The Initial Order of Elements in POSCAR File is:  C Fe  N  H)</span><br><span class="line"> -------------&gt;&gt;</span><br></pre></td></tr></table></figure>
<h3 id="输入文件自检"><a href="#输入文件自检" class="headerlink" title="输入文件自检"></a>输入文件自检</h3><p><code>vaspkit</code> 可以通过 <code>109</code> 功能来检查赝势和进行格式校正，同时其将自动校正 <code>INCAR</code> 和 <code>POSCAR</code> ，并检查 <code>POTCAR</code> 和 <code>POSCAR</code> 元素顺序是否一致。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/posts/bbf1dd3b/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Hengshuai Shang">
      <meta itemprop="description" content="study">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hengshuai Shang">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/posts/bbf1dd3b/" class="post-title-link" itemprop="url">基础表征-XRD中	衍射机理</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-08-29 21:39:37" itemprop="dateCreated datePublished" datetime="2023-08-29T21:39:37+08:00">2023-08-29</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-08-30 22:20:41" itemprop="dateModified" datetime="2023-08-30T22:20:41+08:00">2023-08-30</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/XRD/" itemprop="url" rel="index"><span itemprop="name">XRD</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/posts/bbf1dd3b/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/posts/bbf1dd3b/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="XRD应用"><a href="#XRD应用" class="headerlink" title="XRD应用"></a>XRD应用</h1><h2 id="X射线与物质的相互作用"><a href="#X射线与物质的相互作用" class="headerlink" title="X射线与物质的相互作用"></a>X射线与物质的相互作用</h2><p>X射线和物质之间有复杂的相互作用，例如图一所示，主要是晶格点阵中原子对X光的散射，散射叠加形成衍射，其满足Bragg散射条件就形成衍射，具体相互作用见图二。主要是相干散射。<br><img src="https://cdn.jsdelivr.net/gh/shuai0511/blog-img/X%E5%85%89%E4%B8%8E%E7%89%A9%E8%B4%A8%E7%9B%B8%E4%BA%92%E4%BD%9C%E7%94%A8.jpg"><br>图一<br><img src="https://cdn.jsdelivr.net/gh/shuai0511/blog-img/X%E5%85%89%E4%B8%8E%E7%89%A9%E8%B4%A8%E7%9B%B8%E4%BA%92%E4%BD%9C%E7%94%A8%E5%88%86%E8%A7%A3.jpg"><br>图二</p>
<h2 id="晶体结构简介"><a href="#晶体结构简介" class="headerlink" title="晶体结构简介"></a>晶体结构简介</h2><ul>
<li><p>1、</p>
</li>
<li></li>
</ul>
<h2 id="晶体原子对X光的散射"><a href="#晶体原子对X光的散射" class="headerlink" title="晶体原子对X光的散射"></a>晶体原子对X光的散射</h2><h3 id="Bragg方程"><a href="#Bragg方程" class="headerlink" title="Bragg方程"></a>Bragg方程</h3><p> 衍射现象得到晶体结构<br>     -  a、X射线的衍射方向反映了晶胞的形状和大小<br>     -  b、X射线的衍射强度反映了晶胞中原子位置和种类<br>当一束X射线照射晶体时，首先被电子散射，每个电子都是一个新的衍射波源，向空间辐射出与入射X光线同频率的电磁波。可将晶体中每个原子看作是一个新的散射波源，它们向各自向空间辐射与入射X光线同频率的电磁波。<br>由于这些波之间的干涉作用，使得空间某些方向上的波保持相互叠加，这个方向上可以观测到衍射先，而另一些方向上波相互抵消，没有衍射线。d<sub>hkl</sub>为晶面间距，而θ为入射X射线与晶面之间的夹角，λ为入射X射线的波长，光程差为入射光波长的整数倍（此为相干叠加的衍射条件）。</p>
<blockquote>
<p>sinθ &#x3D; λ&#x2F;2d<sub>hkl</sub>，又sinθ &lt; 1，所以如果要产生衍射，那么入射X射线要满足λ &lt; 2d<sub>hkl</sub>，同时能够满足产生衍射的晶面并不是无限的，其d<sub>hkl</sub> &gt; λ&#x2F;2。</p>
</blockquote>
<p>此给出了X射线分析的下限，对于一定波长的X射线，能产生衍射的镜面有限，对于一定的晶体而言，不同波长的X射线产生衍射的晶面数也不同。波长越短，产生衍射的晶面越多。</p>
<p><img src="https://cdn.jsdelivr.net/gh/shuai0511/blog-img/Bragg%E5%85%AC%E5%BC%8F.jpg"></p>
<p>图三</p>
<p>而Bragg方程是X射线产生衍射的必要不充分条件（F不为0，F称为结构散射因子）。</p>
<h3 id="结构散射因子"><a href="#结构散射因子" class="headerlink" title="结构散射因子"></a>结构散射因子</h3><h4 id="Bragg应用："><a href="#Bragg应用：" class="headerlink" title="Bragg应用："></a>Bragg应用：</h4><ul>
<li>已知θ，λ可测d $\rightarrow$ 用于结构分析，研究晶体结构，材料性质；</li>
<li>已知θ，d可测λ$\rightarrow$ X射线光谱分析，研究X射线是哪一种原子发出的。</li>
</ul>
<h4 id="衍射强度"><a href="#衍射强度" class="headerlink" title="衍射强度"></a>衍射强度</h4><p>I<sub>相对</sub> &#x3D; F<sup>2</sup>P(1+cos<sup>2</sup>2θ&#x2F;sin<sup>2</sup>θcosθ)e<sup>-2M</sup>1&#x2F;u<br>F为结构散射因子，P为多重性因子，θ为衍射线的bragg角，e<sup>-2M</sup>为温度因子，1&#x2F;u为吸收因子。<br>F取决于晶体结构，其意义为晶体内全部原子散射的总和。<br>因此 F &#x3D; f x e<sup>2Πi(hu+kv+lw)</sup><br>h、k、l为晶面指数，u、v、w为原子在晶胞中的分数坐标。f为对应原子的原子散射因子。<br>对四种点阵的F总结如下</p>
<ul>
<li>简单点阵：结构散射因子与hkl无关。</li>
<li>体心立方点阵：当（h+k+l）为奇数时，结构散射因子为0，不会出现衍射现象。</li>
<li>面心立方点阵：当h、k、l全为奇数或者全为偶数时，结构散射因子不为0.</li>
<li>底心点阵：当h和k同时为奇数或者同时为偶数时，结构散射因子不为0。<br>X射线的穿透深度为30 ~ 40 μm，而X射线照射时的衍射体也处于大概的深度，得到的衍射峰为某一衍射体内该晶面的相对数量。<br><img src="https://cdn.jsdelivr.net/gh/shuai0511/blog-img/%E8%A1%8D%E5%B0%84%E5%B3%B0%E8%AF%A6%E5%9B%BE.jpg"><br>图四<br>由图四可知，在一定角度满足Bragg衍射条件时，探测器收到的信号为与该晶面平行的晶面产生的衍射强度的叠加，此时其他晶面可能也会产生衍射，但是探测器收不到他们的信号，也印证了相对强度的意义。</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/posts/bf144593/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Hengshuai Shang">
      <meta itemprop="description" content="study">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hengshuai Shang">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/posts/bf144593/" class="post-title-link" itemprop="url">核电子能级答疑</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2023-08-29 09:00:35 / 修改时间：21:40:58" itemprop="dateCreated datePublished" datetime="2023-08-29T09:00:35+08:00">2023-08-29</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%AD%94%E7%96%91/" itemprop="url" rel="index"><span itemprop="name">答疑</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/posts/bf144593/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/posts/bf144593/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="答疑"><a href="#答疑" class="headerlink" title="答疑"></a>答疑</h1><p>在博客## <a target="_blank" rel="noopener" href="https://shuai0511.github.io/posts/fe1e810/">基础表征-XRD中 X射线产生机理</a>其中K<sub>α</sub>射线与K<sub>β</sub>射线部分，曾解释到L<sub>iii</sub>和L<sub>ii</sub>电子亚能级，当时笔者没有细究，粗心掠过，后面在阅读很多相关介绍时感觉很奇怪（仅从个人角度来说），传统教育中我们仅用K、L、M等代表能层，用1s、2s、2p、3s等表示电子能级。对于Na元素我们传统这么来书写（如图一），故这么来说的话L层一共有两个亚层。经过现在高端仪器光谱学测定，或许有些变化。</p>
<p><img src="https://cdn.jsdelivr.net/gh/shuai0511/blog-img/Na%E5%8E%9F%E5%AD%90%E7%BB%93%E6%9E%84.jpg"><br>图一</p>
<p>电子的其轨道中运动的能量是不连续的、量子化的。 电子在原子中的能量和状态常用量子数来进行描述。<br> 主量子数 n &#x3D;1, 2, 3, 4, …… 可用字母符号K, L, M, N 等表示，以标记原子的主壳层，它是能量的主要因素。角量子数 l &#x3D;0, 1, 2, 3, …, (n-1)，通常用 s, p, d, f 等符号表示，它决定能量的次要因素。总角量子数 j，j&#x3D;|l±s|，s为电子自旋量子数，s &#x3D;1&#x2F;2。一个电子所处原子中的能级可以用 n, l, j 三个量子数来标记(nlj)。如2p3&#x2F;2,3d5&#x2F;2。那么这样来说的话，计算得到的新L能层的电子亚层能层图二所示。对于新的电子排布见图三。参考[中科大讲义](<a target="_blank" rel="noopener" href="http://staff.ustc.edu.cn/~mams/escalab/ES-2.pdf">幻灯片 1 (ustc.edu.cn)</a>)。</p>
<p><img src="https://cdn.jsdelivr.net/gh/shuai0511/blog-img/Na%E5%8E%9F%E5%AD%90%E7%BB%93%E6%9E%84%E6%96%B0.jpg"></p>
<p>图二</p>
<p><img src="https://cdn.jsdelivr.net/gh/shuai0511/blog-img/X%E5%B0%84%E7%BA%BF%E5%AF%B9%E5%BA%94%E8%83%BD%E5%B1%82%E5%85%B3%E7%B3%BB.jpg"><br>图三</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/posts/5d401c16/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Hengshuai Shang">
      <meta itemprop="description" content="study">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hengshuai Shang">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/posts/5d401c16/" class="post-title-link" itemprop="url">光催化入门（2）——基础表征</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-08-28 12:12:57" itemprop="dateCreated datePublished" datetime="2023-08-28T12:12:57+08:00">2023-08-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-09-01 09:46:05" itemprop="dateModified" datetime="2023-09-01T09:46:05+08:00">2023-09-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%85%89%E5%82%AC%E5%8C%96/" itemprop="url" rel="index"><span itemprop="name">光催化</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/posts/5d401c16/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/posts/5d401c16/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="光催化入门（2）"><a href="#光催化入门（2）" class="headerlink" title="光催化入门（2）"></a>光催化入门（2）</h1><p>近年来光催化在各行各业的应用也异军突起，包括光解水制氢、污染物降解、CO2还原、自清洁表面、医疗杀菌等。</p>
<p>对于催化反应来说，其活性位均来自于表面物种，然而正确、清晰的认识表面结构对于催化活性具有重要意义。例如催化剂暴露晶面、是否有物种覆盖、能带结构、电子结构、对光电子响应等。</p>
<p>通过XRD可以测定催化剂晶体类型，借助表征结果的最高峰可以确认催化剂的主要晶面，可以用于计算模拟的建模，用jade进行物相检索可以得到对应的PDF卡片，运用谢乐公式可以求解晶粒尺寸。</p>
<p>通过TEM和SEM可以观测催化剂结构，当想要从样品内部结构获得信息时，透射电镜（TEM）是最佳的选择，而当需要样品表面信息时，扫描电镜（SEM）是首选。当然，主要决定因素是两个系统之间的价格差异，以及易用性。通过TEM也可以用衍射模式得到衍射斑点标定后与XRD结果进行对比，相互印证。</p>
<p>光电子能谱根据能量不同分为紫外光电子能谱和X光电子能谱，前者打来的电子能量低，电离掉的是价层电子；后者打来的光子能量很高，电离掉的是内层电子。前者在催化领域应用十分广泛，每种物质的逸出功与其所处的化学环境密切相关，例如纯净的表面与被污染表面其相差较大，如下图中 hv &#x3D; E<sub>b</sub> + E<sub>k</sub> [a]，光子能量转化为物质表面电子的逸出功和逃逸动能，而且其会和元素的电子外层排布有关，电子越靠近原子核的壳层，其结合能越大，此时需要的光电子能量就越高。</p>
<pre><code>附：XPS的金属峰左移？
a、在XPS中，金属峰的左移通常表示表面有氧化物存在，是因为氧会与金属之间形成化学键，并增加该化学键的键长和键能，从而形成金属离子从而导致金属电子被拉离，并产生化学位移，因此金属离子价电子产生的信号峰向高能区移动，产生金属峰的左移。
b、金属峰的左移也可能是由于化学修饰或者其他表面存在的物质与金属发生相互作用所致，这些小的分子通常会在表面与金属形成化学键，并引起金属外电子的远离，会导致金属峰左移。
综上，导致XPS金属峰左移的本质原因是位于金属本体的电子发生偏移，导致其远离金属本体而使金属原子呈现一定的正电性。
对于XPS的右移，分析方法类似，但是更加细致入微的分析还需要借助其他表征来相互印证。
</code></pre>
<p><img src="https://raw.githubusercontent.com/shuai0511/shuai0511.github.io/picture-store/XPS_%E5%85%89%E7%94%B5%E6%95%88%E5%BA%941.png"></p>
<p><img src="https://raw.githubusercontent.com/shuai0511/shuai0511.github.io/picture-store/XPS_%E5%85%89%E7%94%B5%E6%95%88%E5%BA%942.png"></p>
<p>例如块体吸收能量变为表面之后，表面的物质变得更活泼，但是其仍然会趋于形成更小的表面，因此在表面附近会吸附一些物质来降低表面能，趋于稳定，例如球状SiO<sub>2</sub>吸附的OH用于稳定表面氧物种。例如常见的光催化剂TiO<sub>2</sub>表面吸附的OH基，曾有文献研究发现水在二氧化钛表面会发生解离，形成O和OH吸附在其表面，用于稳定TiO<sub>2</sub>表面，因此表面会存在磁矩。而且由于新鲜的表面刚构造出来，会形成各种各样的重构，其中包括缺陷、掺杂等。在这里介绍一下缺陷，例如TiO<sub>2</sub>表面的O缺陷，其会导致表面的电荷重新分布，进而改变Ti的表观电荷。笔者在之前的工作中接触过CeO<sub>2</sub>，其表面形成O空位，其会协调表面Ce的表观电荷，这样表面就可以储氧，致使Ce处于合适的价态加速催化反应，湖南大学王双印老师与其合作者曾首先制备出来并热处理CeO<sub>2</sub>形成O空位，相比于非空位表面可大幅度提升电催化硝酸根还原性能，接着他们又做了一些列工作，这种调控方法值得借鉴。</p>
<p><img src="https://raw.githubusercontent.com/shuai0511/shuai0511.github.io/picture-store/%E8%A1%A8%E9%9D%A2%E7%BC%BA%E9%99%B7_%E7%94%BB%E6%9D%BF%201.jpg"></p>
<pre><code>这里主要介绍一下电子顺磁共振（EPR），是由不配对的电子磁矩发源的一种磁共振技术，是研究化合物或者矿物中不成对电子状态的重要工具，可用于从定性和定量方面检测物质原子和分子中所含的不配对电子，并探索周围环境结构的特性。
EPR原理：在垂直于B0的方向上施加频率为hv的电磁波，当满足hv=gβB0时，处于量能极简的电子发生受激发跃迁，导致部分处于低能级中的电子吸收电磁波能量跃迁到高能集中，这就叫顺次共振现象，受激跃迁产生的吸收信号经电子学系统处理可得EPR吸收线。
</code></pre>
<p><img src="https://raw.githubusercontent.com/shuai0511/shuai0511.github.io/picture-store/EPR%E5%8E%9F%E7%90%86%201_%E7%94%BB%E6%9D%BF%201.jpg"></p>
<p>EPR经常用于研究以下问题：</p>
<p>（1）自由基</p>
<p>（2）双基或者多基</p>
<p>（3）二重态分子</p>
<p>（4）过渡金属离子或稀土离子</p>
<p>（5）固体中晶格缺陷</p>
<p>（6）具有奇数个电子的原子</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Hengshuai Shang</p>
  <div class="site-description" itemprop="description">study</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">25</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">25</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">38</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Hengshuai Shang</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

  <script src="//cdn.jsdelivr.net/gh/theme-next/theme-next-needmoreshare2@1/needsharebutton.min.js"></script>
  <script>
      pbOptions = {};
        pbOptions.iconStyle = "box";
        pbOptions.boxForm = "horizontal";
        pbOptions.position = "bottomCenter";
        pbOptions.networks = "Wechat,QQZone,Weibo,Douban,Twitter,Facebook";
      new needShareButton('#needsharebutton-postbottom', pbOptions);
  </script>

<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : 'Ka4ubzmsbl0JVIyhTlFpMDQE-gzGzoHsz',
      appKey     : 'NsRGFAadaaHTNxqS5Daeoj6N',
      placeholder: "请在此输入您的留言",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : false,
      lang       : '' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"/live2dw/assets/z16.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true}});</script></body>
</html>
